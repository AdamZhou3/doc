

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>1. 链表 &mdash; EveryThing 2.0.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="2. 树" href="Tree.html" />
    <link rel="prev" title="Python" href="../python.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> EveryThing
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">SNA</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../0_SNA/10_sphinx_rst.html">Sphinx</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../0_SNA/30_gee.html">GEE</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../0_SNA/50_plots.html">Scientific Plots</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../0_SNA/51_pandas.html">Pandas</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../python.html">Python</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">1. 链表</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2">1.1. 实现</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id3">1.1.1. 创建一个新链表</a></li>
<li class="toctree-l4"><a class="reference internal" href="#next">1.1.2. next 关键字</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id4">1.1.3. 递归打印**</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id5">1.2. 基本操作</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id6">1.2.1. 计算链表长度，从前后插入，查找，删除</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id7">1.2.2. 实践</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#q160">1.3. Q160 找出链表的交点*****</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id8">1.3.1. 暴力法</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id9">1.3.2. 哈希表法</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id10">1.3.3. 双指针法</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#q206">1.4. Q206 链表反转****</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id11">1.4.1. 双指针迭代</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id12">1.4.2. 递归</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#q21">1.5. Q21 合并两个有序链表 ***</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id13">1.5.1. 递归法</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id14">1.5.2. 迭代</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#q83">1.6. Q83 从有序链表中删除重复节点 **</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#wrong1">1.6.1. wrong1</a></li>
<li class="toctree-l4"><a class="reference internal" href="#demo2">1.6.2. demo2</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id15">1.6.3. 直接法</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id16">1.6.4. 递归***</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#q19-n">1.7. Q19 删除链表的倒数第N个节点</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id17">1.7.1. 两次遍历方法</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id18">1.7.2. 一次遍历方法</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id19">1.7.3. 递归</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#q24">1.8. Q24 两两交换链表中的相邻结点</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id21">1.8.1. 指针</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id22">1.8.2. 递归</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#q445-add-two-numbers-ii">1.9. Q445 Add Two Numbers II *****</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id23">1.9.1. 加法递归</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id24">1.9.2. 双栈法</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#q234-palindrome-linked-list">1.10. Q234 Palindrome Linked List****</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id25">1.10.1. 链表反转</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id26">1.10.2. 数组</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id27">1.10.3. 递归&#64;&#64;</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#q725-split-linked-list-in-parts-medium">1.11. Q725. Split Linked List in Parts(Medium)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id28">1.11.1. 新列表</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id29">1.11.2. 拆分链表</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#q328-odd-even-linked-list-medium">1.12. Q328 Odd Even Linked List (Medium)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id30">1.12.1. 简写</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Tree.html">2. 树</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../R.html">R</a></li>
</ul>
<p class="caption"><span class="caption-text">Notes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../1_Notes/10_notes.html">Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../1_Notes/10_notes.html#methods">Methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../1_Notes/10_notes.html#data">Data</a></li>
</ul>
<p class="caption"><span class="caption-text">Discussion</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../2_DIS/11_debate.html">辩行记</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../2_DIS/12_articles.html">Articles</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../2_DIS/13_libretto.html">Libretto</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">EveryThing</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../python.html">Python</a> &raquo;</li>
        
      <li><span class="section-number">1. </span>链表</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/Snippet/Python/LinkedList.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="id1">
<h1><span class="section-number">1. </span>链表<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p>是一种线性表，在每一个节点里存到下一个节点的<a class="reference external" href="https://zh.wikipedia.org/wiki/%E6%8C%87%E6%A8%99_(%E9%9B%BB%E8%85%A6%E7%A7%91%E5%AD%B8)">指针</a>(Pointer)</p></li>
<li><p>链表与顺序表</p>
<ul>
<li><p>由于不必须按顺序存储，链表在插入的时候可以达到O(1)的<a class="reference external" href="https://zh.wikipedia.org/wiki/%E8%A4%87%E9%9B%9C%E5%BA%A6">复杂度</a>，比另一种线性表<a class="reference external" href="https://zh.wikipedia.org/wiki/%E9%A1%BA%E5%BA%8F%E8%A1%A8">顺序表</a>快得多</p></li>
<li><p>但是查找一个节点或者访问特定编号的节点则需要O(n)的时间，而顺序表相应的时间复杂度分别是O(logn)和O(1)</p></li>
</ul>
</li>
<li><p>适用</p>
<ul>
<li><p>克服数组链表需要预先知道数据大小的缺点</p></li>
<li><p>可以充分利用计算机内存空间，实现灵活的内存动态管理</p></li>
<li><p>失去了数组随机读取的优点</p></li>
<li><p>增加了结点的指针域，空间开销比较大。</p></li>
<li><p>链表用来==构建许多其它数据结构==，如堆栈，队列和他们的派生。</p></li>
</ul>
</li>
<li><p>单向链表</p>
<ul>
<li><p>在每个节点保存数据和到下一个节点的地址</p></li>
<li><p>在最后一个节点保存一个特殊的结束标记</p></li>
<li><p>只会按顺序遍历这个链表的时候</p></li>
</ul>
</li>
<li><p>双向链表</p>
<ul>
<li><p>每个节点有两个连接：一个指向前一个节点；而另一个指向下一个节点</p></li>
</ul>
</li>
</ul>
<div class="section" id="id2">
<h2><span class="section-number">1.1. </span>实现<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id3">
<h3><span class="section-number">1.1.1. </span>创建一个新链表<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Node</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">cargo</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="nb">next</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cargo</span> <span class="o">=</span> <span class="n">cargo</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="nb">next</span>
    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cargo</span><span class="p">)</span>
</pre></div>
</div>
<p>next关键字有什么用？</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;demo&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">demo</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">node1</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;Mon&quot;</span><span class="p">)</span>
<span class="n">node2</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;Tus&quot;</span><span class="p">)</span>
<span class="n">node3</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;Wen&quot;</span><span class="p">)</span>
<span class="n">node1</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">node2</span>
<span class="n">node2</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">node3</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">printList</span><span class="p">(</span><span class="n">node</span><span class="p">):</span>
    <span class="k">while</span> <span class="n">node</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
        <span class="n">node</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">next</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">printList</span><span class="p">(</span><span class="n">node1</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Mon</span>
<span class="n">Tus</span>
<span class="n">Wen</span>
</pre></div>
</div>
</div>
<div class="section" id="next">
<h3><span class="section-number">1.1.2. </span>next 关键字<a class="headerlink" href="#next" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Node</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">cargo</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">nonext</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cargo</span> <span class="o">=</span> <span class="n">cargo</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nonext</span> <span class="o">=</span> <span class="n">nonext</span>
    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cargo</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;demo&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">demo</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">nonext</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kc">None</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">node1</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;Mon&quot;</span><span class="p">)</span>
<span class="n">node2</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;Tus&quot;</span><span class="p">)</span>
<span class="n">node3</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;Wen&quot;</span><span class="p">)</span>
<span class="n">node1</span><span class="o">.</span><span class="n">nonext</span> <span class="o">=</span> <span class="n">node2</span>
<span class="n">node2</span><span class="o">.</span><span class="n">nonext</span> <span class="o">=</span> <span class="n">node3</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">printList</span><span class="p">(</span><span class="n">node</span><span class="p">):</span>
    <span class="k">while</span> <span class="n">node</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
        <span class="n">node</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">nonext</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">printList</span><span class="p">(</span><span class="n">node1</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Mon</span>
<span class="n">Tus</span>
<span class="n">Wen</span>
</pre></div>
</div>
<ul class="simple">
<li><p>无差别</p></li>
</ul>
</div>
<div class="section" id="id4">
<h3><span class="section-number">1.1.3. </span>递归打印**<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<div class="section" id="solution1">
<h4><span class="section-number">1.1.3.1. </span>solution1<a class="headerlink" href="#solution1" title="Permalink to this headline">¶</a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">printBackward1</span><span class="p">(</span><span class="n">lists</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">lists</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span>
    <span class="n">head</span> <span class="o">=</span> <span class="n">lists</span>
    <span class="n">tail</span><span class="o">=</span> <span class="n">lists</span><span class="o">.</span><span class="n">next</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">head</span><span class="p">,</span><span class="n">tail</span><span class="p">)</span>
    <span class="n">printBackward</span><span class="p">(</span><span class="n">tail</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">head</span><span class="p">,</span><span class="n">tail</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">printBackward</span><span class="p">(</span><span class="n">node1</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Mon</span> <span class="n">Tus</span>
<span class="n">Tus</span> <span class="n">Wen</span>
<span class="n">Wen</span> <span class="kc">None</span>
<span class="n">Wen</span> <span class="kc">None</span>
<span class="n">Tus</span> <span class="n">Wen</span>
<span class="n">Mon</span> <span class="n">Tus</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">printBackward</span><span class="p">(</span><span class="n">node1</span><span class="p">)</span>
    <span class="n">head</span> <span class="o">=</span> <span class="n">node1</span>
    <span class="n">tail</span> <span class="o">=</span> <span class="n">node2</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">node1</span><span class="p">,</span><span class="n">node2</span><span class="p">)</span>
    <span class="n">printBackward</span><span class="p">(</span><span class="n">node2</span><span class="p">)</span>
        <span class="n">head</span> <span class="o">=</span> <span class="n">node2</span>
        <span class="n">tail</span> <span class="o">=</span> <span class="n">node3</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">node2</span><span class="p">,</span><span class="n">node3</span><span class="p">)</span>
        <span class="n">printBackward</span><span class="p">(</span><span class="n">node3</span><span class="p">)</span>
            <span class="n">head</span> <span class="o">=</span> <span class="n">node3</span>
            <span class="n">tail</span> <span class="o">=</span> <span class="n">none</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">node3</span><span class="p">,</span><span class="n">none</span><span class="p">)</span>
            <span class="n">printBackward</span><span class="p">(</span><span class="n">none</span><span class="p">)</span>
                <span class="k">return</span> 
            <span class="nb">print</span><span class="p">(</span><span class="n">node3</span><span class="p">,</span><span class="n">none</span><span class="p">)</span>            
        <span class="nb">print</span><span class="p">(</span><span class="n">node2</span><span class="p">,</span><span class="n">node3</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">node1</span><span class="p">,</span><span class="n">node2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="solution2">
<h4><span class="section-number">1.1.3.2. </span>solution2<a class="headerlink" href="#solution2" title="Permalink to this headline">¶</a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">printBackward2</span><span class="p">(</span><span class="n">lists</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">lists</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span><span class="k">return</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">lists</span><span class="p">)</span>
    <span class="n">printBackward2</span><span class="p">(</span><span class="n">lists</span><span class="o">.</span><span class="n">next</span><span class="p">)</span>

<span class="n">printBackward2</span><span class="p">(</span><span class="n">node1</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Mon</span>
<span class="n">Tus</span>
<span class="n">Wen</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id5">
<h2><span class="section-number">1.2. </span>基本操作<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h2>
<p>针对非循环链表的，从头节点开始操作，而且不能插入 None值到链表中。</p>
<div class="section" id="id6">
<h3><span class="section-number">1.2.1. </span>计算链表长度，从前后插入，查找，删除<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Node</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="c1">#节点类</span>
    <span class="c1">#功能：输入一个值data，将值变为一个节点</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="nb">next</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="nb">next</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span>

<span class="k">class</span> <span class="nc">LinkedList</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">head</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">head</span> <span class="o">=</span> <span class="n">head</span>
        
    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1">#返回链表长度</span>
        <span class="n">curr</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">head</span>
        <span class="n">counter</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">while</span> <span class="n">curr</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">counter</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">curr</span> <span class="o">=</span> <span class="n">curr</span><span class="o">.</span><span class="n">next</span>
        <span class="k">return</span> <span class="n">counter</span>
    
    <span class="k">def</span> <span class="nf">insertToFront</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">data</span><span class="p">):</span>
        <span class="c1">#功能：输入data，插入到头节点前，并更改为头节点</span>
        <span class="c1">#输出：当前头节点</span>
        <span class="k">if</span> <span class="n">data</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="n">node</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">head</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">head</span> <span class="o">=</span> <span class="n">node</span>
        <span class="k">return</span> <span class="n">node</span>
    
    <span class="k">def</span> <span class="nf">append</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">data</span><span class="p">):</span>
        <span class="c1">#功能：输入data,作为节点插入到末尾</span>
        <span class="k">if</span> <span class="n">data</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="n">node</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">head</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">head</span> <span class="o">=</span> <span class="n">node</span>
            <span class="k">return</span> <span class="n">node</span>
        <span class="n">curr_node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">head</span>
        <span class="k">while</span> <span class="n">curr_node</span><span class="o">.</span><span class="n">next</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">curr_node</span> <span class="o">=</span> <span class="n">curr_node</span><span class="o">.</span><span class="n">next</span>
        <span class="n">curr_node</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">node</span>
        <span class="k">return</span> <span class="n">node</span>
    
    <span class="k">def</span> <span class="nf">find</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">data</span><span class="p">):</span>
        <span class="c1">#功能：查找链表的节点data与data相同的节点</span>
        <span class="k">if</span> <span class="n">data</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="c1"># 设置头节点为当前节点，若当前节点不为None,遍历整个链表</span>
        <span class="n">curr_node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">head</span>
        <span class="k">while</span> <span class="n">curr_node</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1">#若当前节点的data与输入的data相同，但会当前节点，否则轮到下一个节点</span>
            <span class="k">if</span> <span class="n">curr_node</span><span class="o">.</span><span class="n">data</span> <span class="o">==</span> <span class="n">data</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">curr_node</span>
            <span class="n">curr_node</span> <span class="o">=</span> <span class="n">curr_node</span><span class="o">.</span><span class="n">next</span>
    
    <span class="k">def</span> <span class="nf">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">data</span><span class="p">):</span>
        <span class="c1">#删除节点：直接将匹配节点的前一节点指向匹配节点的下一节点</span>
        <span class="c1">#若输入数据为None,返回</span>
        <span class="k">if</span> <span class="n">data</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">head</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="c1">## 若头结点匹配，将头设为下一个</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">head</span><span class="o">.</span><span class="n">data</span> <span class="o">==</span> <span class="n">data</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">head</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">head</span><span class="o">.</span><span class="n">next</span>
            <span class="k">return</span>
        <span class="c1">#将头节点设置为前节点，头节点的下一个节点设置为当前节点</span>
        <span class="n">curr_node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">head</span>
        <span class="c1"># 遍历整个链表，若当前节点与输入数据匹配，将前节点的指针指向当前节点的下一个节点，否则，移到下一个节点</span>
        <span class="k">while</span> <span class="n">curr_node</span><span class="o">.</span><span class="n">next</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">curr_node</span><span class="o">.</span><span class="n">next</span><span class="o">.</span><span class="n">data</span> <span class="o">==</span> <span class="n">data</span><span class="p">:</span>
                <span class="n">curr_node</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">curr_node</span><span class="o">.</span><span class="n">next</span><span class="o">.</span><span class="n">next</span>
                <span class="k">return</span>
            <span class="n">curr_node</span> <span class="o">=</span> <span class="n">curr_node</span><span class="o">.</span><span class="n">next</span>
</pre></div>
</div>
</div>
<div class="section" id="id7">
<h3><span class="section-number">1.2.2. </span>实践<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">nodea1</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;A1&quot;</span><span class="p">)</span>
<span class="n">nodea2</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;A2&quot;</span><span class="p">)</span>
<span class="n">nodea3</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;A3&quot;</span><span class="p">)</span>
<span class="n">nodeb1</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;B1&quot;</span><span class="p">)</span>
<span class="n">nodeb2</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;B2&quot;</span><span class="p">)</span>
<span class="n">nodec1</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;C1&quot;</span><span class="p">)</span>
<span class="n">nodec2</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;C2&quot;</span><span class="p">)</span>
<span class="n">nodea1</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">nodea2</span>
<span class="n">nodea2</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">nodea3</span>
<span class="n">nodea3</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">nodec1</span>
<span class="n">nodec1</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">nodec2</span>
<span class="n">nodeb1</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">nodeb2</span>
<span class="n">nodeb2</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">nodec1</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ll1</span> <span class="o">=</span> <span class="n">LinkedList</span><span class="p">(</span><span class="n">nodea1</span><span class="p">)</span>
<span class="n">ll2</span> <span class="o">=</span> <span class="n">LinkedList</span><span class="p">(</span><span class="n">nodeb1</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">## 长度</span>
<span class="nb">len</span><span class="p">(</span><span class="n">ll1</span><span class="p">),</span><span class="nb">len</span><span class="p">(</span><span class="n">ll2</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">## 前插</span>
<span class="n">nodea0</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;A0&quot;</span><span class="p">)</span>
<span class="n">ll1</span><span class="o">.</span><span class="n">insertToFront</span><span class="p">(</span><span class="n">nodea0</span><span class="p">)</span>
<span class="nb">len</span><span class="p">(</span><span class="n">ll1</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">6</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">## 后插</span>
<span class="n">nodec3</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;C3&quot;</span><span class="p">)</span>
<span class="n">ll1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">nodec3</span><span class="p">)</span>
<span class="nb">len</span><span class="p">(</span><span class="n">ll1</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">7</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">## 查找 返回node</span>
<span class="n">ll1</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;C2&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">__main__</span><span class="o">.</span><span class="n">Node</span> <span class="n">at</span> <span class="mh">0x268bb4bf8c8</span><span class="o">&gt;</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">## 删除</span>
<span class="n">ll1</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="s2">&quot;C1&quot;</span><span class="p">)</span>
<span class="nb">str</span><span class="p">(</span><span class="n">nodea3</span><span class="o">.</span><span class="n">next</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;C2&#39;</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ll3</span><span class="o">=</span> <span class="n">LinkedList</span><span class="p">(</span><span class="n">nodec3</span><span class="p">)</span>
<span class="n">ll3</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="s2">&quot;C3&quot;</span><span class="p">)</span>
<span class="nb">len</span><span class="p">(</span><span class="n">ll3</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="q160">
<h2><span class="section-number">1.3. </span>Q160 找出链表的交点*****<a class="headerlink" href="#q160" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>如果两个链表没有交点，返回 null.</p></li>
<li><p>在返回结果后，两个链表仍须保持原有的结构。</p></li>
<li><p>可假定整个链表结构中没有循环。</p></li>
<li><p>程序尽量满足 O(n) 时间复杂度，且仅用 O(1) 内存。</p></li>
</ul>
<div class="section" id="id8">
<h3><span class="section-number">1.3.1. </span>暴力法<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>对链表A中的每一个结点 $a_i$，遍历整个链表 B 并检查链表 B 中是否存在结点和$a_i$ 相同。</p></li>
<li><p>复杂度分析</p>
<ul>
<li><p>时间复杂度 : $(mn)$。</p></li>
<li><p>空间复杂度 : $O(1)$。</p></li>
</ul>
</li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">findIntersectionNode1</span><span class="p">(</span><span class="n">ll1</span><span class="p">,</span><span class="n">ll2</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">ll1</span><span class="o">.</span><span class="n">head</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">ll2</span><span class="o">.</span><span class="n">head</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="n">node1</span> <span class="o">=</span> <span class="n">ll1</span><span class="o">.</span><span class="n">head</span>

    <span class="k">while</span> <span class="n">node1</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">node2</span> <span class="o">=</span> <span class="n">ll2</span><span class="o">.</span><span class="n">head</span> <span class="c1">## 循环内赋值</span>
        <span class="c1">##print(str(node1))</span>
        <span class="k">while</span> <span class="n">node2</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">node2</span><span class="o">.</span><span class="n">data</span> <span class="o">==</span> <span class="n">node1</span><span class="o">.</span><span class="n">data</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">node1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">node2</span><span class="o">=</span><span class="n">node2</span><span class="o">.</span><span class="n">next</span>
        <span class="n">node1</span> <span class="o">=</span> <span class="n">node1</span><span class="o">.</span><span class="n">next</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">findIntersectionNode1</span><span class="p">(</span><span class="n">ll1</span><span class="p">,</span><span class="n">ll2</span><span class="p">)</span><span class="o">.</span><span class="n">data</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;C1&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="id9">
<h3><span class="section-number">1.3.2. </span>哈希表法<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>遍历链表 A 并将每个结点的地址/引用存储在哈希表中。然后检查链表 B 中的每一个结点 $b_i$是否在哈希表中。若在，则$b_i$为相交结点。</p></li>
<li><p>复杂度分析</p>
<ul>
<li><p>时间复杂度 : O(m+n)O(m+n)。</p></li>
<li><p>空间复杂度 : O(m)或 O(n)。</p></li>
</ul>
</li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">nodec2</span><span class="o">.</span><span class="n">next</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">findIntersectionNode2</span><span class="p">(</span><span class="n">ll1</span><span class="p">,</span><span class="n">ll2</span><span class="p">):</span>
    <span class="n">node1</span> <span class="o">=</span> <span class="n">ll1</span><span class="o">.</span><span class="n">head</span>
    <span class="n">dic</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">while</span> <span class="n">node1</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">dic</span><span class="p">[</span><span class="n">node1</span><span class="o">.</span><span class="n">data</span><span class="p">]</span><span class="o">=</span><span class="n">node1</span>
        <span class="n">node1</span> <span class="o">=</span> <span class="n">node1</span><span class="o">.</span><span class="n">next</span>
    <span class="n">node2</span> <span class="o">=</span> <span class="n">ll2</span><span class="o">.</span><span class="n">head</span>
    <span class="k">while</span> <span class="n">node2</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">node2</span><span class="o">.</span><span class="n">data</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">dic</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
            <span class="k">return</span> <span class="n">node2</span> <span class="c1">##如果改为print 跳不出循环 需加一行</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">node2</span> <span class="o">=</span> <span class="n">node2</span><span class="o">.</span><span class="n">next</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">findIntersectionNode2</span><span class="p">(</span><span class="n">ll1</span><span class="p">,</span><span class="n">ll2</span><span class="p">)</span><span class="o">.</span><span class="n">data</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;C1&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="id10">
<h3><span class="section-number">1.3.3. </span>双指针法<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h3>
<p><img alt="将链表变成环" src="https://pic.leetcode-cn.com/396526c47e043feb977e59f98d8df9165ae249d5042ca60ee4d3121c05fea067-%E5%8A%A8%E6%80%81%E5%9B%BE.gif" /></p>
<p><img alt="长度差" src="https://pic.leetcode-cn.com/5651993ddb76ae6a42f0b338aec9382206f567041113f49d6ca670832ac75791-Picture1.png" /></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">findIntersectionNode3</span><span class="p">(</span><span class="n">ll1</span><span class="p">,</span><span class="n">ll2</span><span class="p">):</span>
    <span class="n">a</span><span class="p">,</span><span class="n">b</span> <span class="o">=</span> <span class="n">ll1</span><span class="o">.</span><span class="n">head</span><span class="p">,</span><span class="n">ll2</span><span class="o">.</span><span class="n">head</span>
    <span class="k">while</span> <span class="n">a</span><span class="o">!=</span><span class="n">b</span><span class="p">:</span>
        <span class="n">a</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">next</span> <span class="k">if</span> <span class="n">a</span> <span class="k">else</span> <span class="n">ll2</span><span class="o">.</span><span class="n">head</span>
        <span class="n">b</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="n">next</span> <span class="k">if</span> <span class="n">b</span> <span class="k">else</span> <span class="n">ll1</span><span class="o">.</span><span class="n">head</span>
    <span class="k">return</span> <span class="n">a</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">findIntersectionNode3</span><span class="p">(</span><span class="n">ll1</span><span class="p">,</span><span class="n">ll2</span><span class="p">)</span><span class="o">.</span><span class="n">data</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;C1&#39;</span>
</pre></div>
</div>
<div class="section" id="tips-if-else">
<h4><span class="section-number">1.3.3.1. </span>Tips: If Else 简写<a class="headerlink" href="#tips-if-else" title="Permalink to this headline">¶</a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">#值1 if 条件 else 值2</span>
<span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">a</span> <span class="k">if</span> <span class="n">a</span><span class="o">&gt;</span><span class="n">b</span> <span class="k">else</span> <span class="n">b</span>
<span class="n">c</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">2</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># [list][ condition]</span>
<span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span>
<span class="n">c</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">][</span><span class="n">a</span> <span class="o">&gt;</span> <span class="n">b</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">1</span> <span class="mi">2</span> <span class="mi">1</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># (c and [a] or [b])[0]  # 当c为真 走a </span>
<span class="n">c</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<span class="n">a</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<span class="n">b</span> <span class="o">=</span> <span class="s2">&quot;demo&quot;</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">c</span> <span class="ow">and</span> <span class="n">a</span> <span class="ow">or</span> <span class="n">b</span>  <span class="c1"># 当a =0时有bug</span>
<span class="n">d</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;demo&#39;</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">c</span> <span class="o">=</span> <span class="mi">1</span>
<span class="p">(</span><span class="n">c</span> <span class="ow">and</span> <span class="p">[</span><span class="n">a</span><span class="p">]</span> <span class="ow">or</span> <span class="p">[</span><span class="n">b</span><span class="p">])[</span><span class="mi">0</span><span class="p">]</span> 
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;&#39;</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="q206">
<h2><span class="section-number">1.4. </span>Q206 链表反转****<a class="headerlink" href="#q206" title="Permalink to this headline">¶</a></h2>
<p>https://leetcode-cn.com/problems/reverse-linked-list/</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">nodea1</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;A1&quot;</span><span class="p">)</span>
<span class="n">nodea2</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;A2&quot;</span><span class="p">)</span>
<span class="n">nodea3</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;A3&quot;</span><span class="p">)</span>
<span class="n">nodec1</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;C1&quot;</span><span class="p">)</span>
<span class="n">nodec2</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;C2&quot;</span><span class="p">)</span>
<span class="n">nodea1</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">nodea2</span>
<span class="n">nodea2</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">nodea3</span>
<span class="n">nodea3</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">nodec1</span>
<span class="n">nodec1</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">nodec2</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ll</span> <span class="o">=</span> <span class="n">LinkedList</span><span class="p">(</span><span class="n">nodea1</span><span class="p">)</span>
</pre></div>
</div>
<div class="section" id="id11">
<h3><span class="section-number">1.4.1. </span>双指针迭代<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h3>
<p><img alt="https://pic.leetcode-cn.com/7d8712af4fbb870537607b1dd95d66c248eb178db4319919c32d9304ee85b602-%E8%BF%AD%E4%BB%A3.gif" src="https://pic.leetcode-cn.com/7d8712af4fbb870537607b1dd95d66c248eb178db4319919c32d9304ee85b602-%E8%BF%AD%E4%BB%A3.gif" /></p>
<ul class="simple">
<li><p>时间复杂度：$O(n)$，假设 $n$ 是列表的长度</p></li>
<li><p>空间复杂度：$O(1)$。</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">reverseLinkedList1</span><span class="p">(</span><span class="n">ll</span><span class="p">):</span>
    <span class="n">pre</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">cur</span> <span class="o">=</span> <span class="n">ll</span><span class="o">.</span><span class="n">head</span>
    <span class="k">while</span> <span class="n">cur</span><span class="p">:</span>
        <span class="n">tmp</span> <span class="o">=</span> <span class="n">cur</span><span class="o">.</span><span class="n">next</span>
        <span class="n">cur</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">pre</span>
        <span class="n">pre</span> <span class="o">=</span> <span class="n">cur</span>
        <span class="n">cur</span> <span class="o">=</span> <span class="n">tmp</span>
    <span class="k">return</span> <span class="n">LinkedList</span><span class="p">(</span><span class="n">pre</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ll1</span> <span class="o">=</span> <span class="n">reverseLinkedList1</span><span class="p">(</span><span class="n">ll</span><span class="p">)</span>
<span class="n">ll1</span><span class="o">.</span><span class="n">head</span><span class="o">.</span><span class="n">data</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;C2&#39;</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">reverseLinkedList2</span><span class="p">(</span><span class="n">ll</span><span class="p">):</span>
    <span class="n">cur</span><span class="p">,</span> <span class="n">pre</span> <span class="o">=</span> <span class="n">ll</span><span class="o">.</span><span class="n">head</span><span class="p">,</span> <span class="kc">None</span>
    <span class="k">while</span> <span class="n">cur</span><span class="p">:</span>
        <span class="n">pre</span><span class="p">,</span> <span class="n">pre</span><span class="o">.</span><span class="n">next</span><span class="p">,</span><span class="n">cur</span> <span class="o">=</span> <span class="n">cur</span><span class="p">,</span> <span class="n">pre</span><span class="p">,</span> <span class="n">cur</span><span class="o">.</span><span class="n">next</span>
    <span class="k">return</span> <span class="n">LinkedList</span><span class="p">(</span><span class="n">pre</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ll2</span> <span class="o">=</span><span class="n">reverseLinkedList2</span><span class="p">(</span><span class="n">ll</span><span class="p">)</span>
<span class="n">ll2</span><span class="o">.</span><span class="n">head</span><span class="o">.</span><span class="n">data</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;C2&#39;</span>
</pre></div>
</div>
<div class="section" id="tips">
<h4><span class="section-number">1.4.1.1. </span>Tips: 同行等式与分行等式<a class="headerlink" href="#tips" title="Permalink to this headline">¶</a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">## 同行等式左右分别对应，同时赋值,左右分别当做数组</span>
<span class="n">cur1</span><span class="p">,</span><span class="n">pre</span> <span class="o">=</span> <span class="n">ll</span><span class="o">.</span><span class="n">head</span><span class="p">,</span><span class="n">cur1</span><span class="o">.</span><span class="n">next</span>
<span class="n">cur1</span><span class="p">,</span><span class="n">pre</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">---------------------------------------------------------------------------</span>

<span class="ne">NameError</span>                                 <span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">)</span>

<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">47</span><span class="o">-</span><span class="mi">03</span><span class="n">a5fe5f240e</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
      <span class="mi">1</span> <span class="c1">## 同行等式左右分别对应，同时赋值,左右分别当做数组</span>
<span class="o">----&gt;</span> <span class="mi">2</span> <span class="n">cur1</span><span class="p">,</span><span class="n">pre</span> <span class="o">=</span> <span class="n">ll</span><span class="o">.</span><span class="n">head</span><span class="p">,</span><span class="n">cur1</span><span class="o">.</span><span class="n">next</span>
      <span class="mi">3</span> <span class="n">cur1</span><span class="p">,</span><span class="n">pre</span>


<span class="ne">NameError</span><span class="p">:</span> <span class="n">name</span> <span class="s1">&#39;cur1&#39;</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">defined</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">cur</span> <span class="o">=</span> <span class="n">ll</span><span class="o">.</span><span class="n">head</span>
<span class="n">pre</span> <span class="o">=</span> <span class="n">cur</span><span class="o">.</span><span class="n">next</span>
<span class="n">cur</span><span class="p">,</span><span class="n">pre</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="o">&lt;</span><span class="n">__main__</span><span class="o">.</span><span class="n">Node</span> <span class="n">at</span> <span class="mh">0x1aa2ce09148</span><span class="o">&gt;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span>
<span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span> <span class="o">=</span> <span class="n">c</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">a</span>
<span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="id12">
<h3><span class="section-number">1.4.2. </span>递归<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h3>
<p><img alt="https://pic.leetcode-cn.com/dacd1bf55dec5c8b38d0904f26e472e2024fc8bee4ea46e3aa676f340ba1eb9d-%E9%80%92%E5%BD%92.gif" src="https://pic.leetcode-cn.com/dacd1bf55dec5c8b38d0904f26e472e2024fc8bee4ea46e3aa676f340ba1eb9d-%E9%80%92%E5%BD%92.gif" /></p>
<ul class="simple">
<li><p>时间复杂度：$O(n)$，假设 n 是列表的长度，那么时间复杂度为 O(n)。</p></li>
<li><p>空间复杂度：$O(n)$，由于使用递归，将会使用隐式栈空间。递归深度可能会达到 n 层。</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">reverseList3</span><span class="p">(</span><span class="n">head</span><span class="p">):</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">head</span><span class="o">==</span><span class="kc">None</span> <span class="ow">or</span> <span class="n">head</span><span class="o">.</span><span class="n">next</span><span class="o">==</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">head</span>
    <span class="n">cur</span> <span class="o">=</span> <span class="n">reverseList3</span><span class="p">(</span><span class="n">head</span><span class="o">.</span><span class="n">next</span><span class="p">)</span>
    <span class="n">head</span><span class="o">.</span><span class="n">next</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">head</span>
    <span class="n">head</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">return</span> <span class="n">cur</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">newhead</span> <span class="o">=</span> <span class="n">reverseList3</span><span class="p">(</span><span class="n">ll</span><span class="o">.</span><span class="n">head</span><span class="p">)</span>
<span class="n">newhead</span><span class="o">.</span>
</pre></div>
</div>
<p>A1–&gt;A2–&gt;A3–&gt;None</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">reverseList3</span><span class="p">(</span><span class="n">head</span><span class="o">=</span> <span class="n">A1</span><span class="p">):</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">head</span><span class="o">==</span><span class="kc">None</span> <span class="ow">or</span> <span class="n">head</span><span class="o">.</span><span class="n">next</span><span class="o">==</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">head</span>
    <span class="n">cur</span> <span class="o">=</span> <span class="n">reverseList3</span><span class="p">(</span><span class="n">head</span><span class="o">.</span><span class="n">next</span><span class="o">=</span><span class="n">A2</span><span class="p">)</span><span class="o">=</span><span class="n">A3</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">head</span><span class="o">==</span><span class="kc">None</span> <span class="ow">or</span> <span class="n">head</span><span class="o">.</span><span class="n">next</span><span class="o">==</span><span class="kc">None</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">head</span>  
        <span class="n">cur</span> <span class="o">=</span> <span class="n">reverseList3</span><span class="p">(</span><span class="n">head</span><span class="o">.</span><span class="n">next</span><span class="o">=</span><span class="n">A3</span><span class="p">)</span><span class="o">=</span><span class="n">A3</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">head</span><span class="o">==</span><span class="kc">None</span> <span class="ow">or</span> <span class="n">head</span><span class="o">.</span><span class="n">next</span><span class="o">==</span><span class="kc">None</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">head</span> <span class="o">=</span> <span class="n">A3</span>              
        <span class="n">head</span><span class="o">.</span><span class="n">next</span><span class="o">.</span><span class="n">next</span><span class="p">(</span><span class="n">A3</span><span class="o">.</span><span class="n">next</span><span class="p">)</span> <span class="o">=</span> <span class="n">head</span> <span class="o">=</span><span class="n">A2</span> <span class="c1"># 调整A3的指针</span>
        <span class="n">head</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="kc">None</span><span class="c1"># A2 指针为none，删除A2指向A3</span>
        <span class="k">return</span> <span class="n">cur</span><span class="o">=</span><span class="n">A3</span>
    <span class="n">head</span><span class="o">.</span><span class="n">next</span><span class="o">.</span><span class="n">next</span><span class="p">(</span><span class="n">A2</span><span class="o">.</span><span class="n">next</span><span class="p">)</span> <span class="o">=</span> <span class="n">head</span><span class="p">(</span><span class="n">A1</span><span class="p">)</span> 
    <span class="n">head</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">return</span> <span class="n">cur</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="q21">
<h2><span class="section-number">1.5. </span>Q21 合并两个有序链表 ***<a class="headerlink" href="#q21" title="Permalink to this headline">¶</a></h2>
<p>https://leetcode-cn.com/problems/merge-two-sorted-lists/</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Node</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="kc">None</span>
<span class="n">nodea1</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;A1&quot;</span><span class="p">)</span>
<span class="n">nodea2</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;A2&quot;</span><span class="p">)</span>
<span class="n">nodea3</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;A3&quot;</span><span class="p">)</span>
<span class="n">nodeb1</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;B1&quot;</span><span class="p">)</span>
<span class="n">nodeb2</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;B2&quot;</span><span class="p">)</span>
<span class="n">nodeb3</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;B3&quot;</span><span class="p">)</span>
<span class="n">nodea1</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">nodea2</span>
<span class="n">nodea2</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">nodea3</span>

<span class="n">nodeb1</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">nodeb2</span>
<span class="n">nodeb2</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">nodeb3</span>
</pre></div>
</div>
<div class="section" id="id13">
<h3><span class="section-number">1.5.1. </span>递归法<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>时间复杂度：$O(n + m)$。 因为每次调用递归都会去掉 l1 或者 l2 的头元素（直到至少有一个链表为空），函数 mergeTwoList 中只会遍历每个元素一次。所以，时间复杂度与合并后的链表长度为线性关系。</p></li>
<li><p>空间复杂度：$O(n + m)$。调用 mergeTwoLists 退出时 l1 和 l2 中每个元素都一定已经被遍历过了，所以 n + m个栈帧会消耗$O(n+m)$ 的空间。</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Node</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">val</span> <span class="o">=</span> <span class="n">x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="kc">None</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">mergeTwoLists1</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">l1</span><span class="p">,</span> <span class="n">l2</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">l1</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">l2</span>
        <span class="k">elif</span> <span class="n">l2</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">l1</span>
        <span class="k">elif</span> <span class="n">l1</span><span class="o">.</span><span class="n">val</span><span class="o">&lt;</span><span class="n">l2</span><span class="o">.</span><span class="n">val</span><span class="p">:</span>
            <span class="n">l1</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">mergeTwoLists1</span><span class="p">(</span><span class="n">l1</span><span class="o">.</span><span class="n">next</span><span class="p">,</span> <span class="n">l2</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">l1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">l2</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">mergeTwoLists1</span><span class="p">(</span><span class="n">l1</span><span class="p">,</span> <span class="n">l2</span><span class="o">.</span><span class="n">next</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">l2</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">nodea1</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;A1&quot;</span><span class="p">)</span>
<span class="n">nodea2</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;A2&quot;</span><span class="p">)</span>
<span class="n">nodea3</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;A3&quot;</span><span class="p">)</span>
<span class="n">nodeb1</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;B1&quot;</span><span class="p">)</span>
<span class="n">nodeb2</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;B2&quot;</span><span class="p">)</span>
<span class="n">nodeb3</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;B3&quot;</span><span class="p">)</span>
<span class="n">nodea1</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">nodea2</span>
<span class="n">nodea2</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">nodea3</span>

<span class="n">nodeb1</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">nodeb2</span>
<span class="n">nodeb2</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">nodeb3</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">demo</span> <span class="o">=</span> <span class="n">Solution</span><span class="p">()</span>
<span class="n">node</span> <span class="o">=</span> <span class="n">demo</span><span class="o">.</span><span class="n">mergeTwoLists1</span><span class="p">(</span><span class="n">nodea1</span><span class="p">,</span><span class="n">nodeb1</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">node</span><span class="o">.</span><span class="n">next</span><span class="o">.</span><span class="n">next</span><span class="o">.</span><span class="n">next</span><span class="o">.</span><span class="n">next</span><span class="o">.</span><span class="n">val</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;B2&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="id14">
<h3><span class="section-number">1.5.2. </span>迭代<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Node</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">val</span> <span class="o">=</span> <span class="n">x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="kc">None</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">mergeTwoLists2</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">l1</span><span class="p">,</span> <span class="n">l2</span><span class="p">):</span>
        <span class="n">prehead</span> <span class="o">=</span> <span class="n">ListNode</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">prev</span> <span class="o">=</span> <span class="n">prehead</span>
        <span class="k">while</span> <span class="n">l1</span> <span class="ow">and</span> <span class="n">l2</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">l1</span><span class="o">.</span><span class="n">val</span><span class="o">&lt;</span><span class="n">l2</span><span class="o">.</span><span class="n">val</span><span class="p">:</span>
                <span class="n">prev</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">l1</span>
                <span class="n">l1</span> <span class="o">=</span> <span class="n">l1</span><span class="o">.</span><span class="n">next</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">prev</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">l2</span>
                <span class="n">l2</span> <span class="o">=</span> <span class="n">l2</span><span class="o">.</span><span class="n">next</span>
            <span class="n">prev</span> <span class="o">=</span> <span class="n">prev</span><span class="o">.</span><span class="n">next</span>
        <span class="n">prev</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">l1</span> <span class="k">if</span> <span class="n">l1</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">l2</span>
        <span class="k">return</span> <span class="n">prehead</span><span class="o">.</span><span class="n">next</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">demo</span> <span class="o">=</span> <span class="n">Solution</span><span class="p">()</span>
<span class="n">node</span> <span class="o">=</span> <span class="n">demo</span><span class="o">.</span><span class="n">mergeTwoLists2</span><span class="p">(</span><span class="n">nodea1</span><span class="p">,</span><span class="n">nodeb1</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">node</span><span class="o">.</span><span class="n">next</span><span class="o">.</span><span class="n">next</span><span class="o">.</span><span class="n">next</span><span class="o">.</span><span class="n">next</span><span class="o">.</span><span class="n">val</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;B2&#39;</span>
</pre></div>
</div>
<div class="section" id="tips-self">
<h4><span class="section-number">1.5.2.1. </span>Tips: self 是干什么的  &#64;&#64;&#64;<a class="headerlink" href="#tips-self" title="Permalink to this headline">¶</a></h4>
<p>https://blog.csdn.net/CLHugh/article/details/75000104</p>
<ul class="simple">
<li><p>__init__方法的第一参数永远是self，表示创建的类实例本身</p></li>
<li><p>有了__init__方法，创建实例，不能传入空的参数</p></li>
<li><p>self.name = name 把外部传来的参数name的值赋值给Student类自己的属性变量self.name</p></li>
<li><p>__开头表示私有变量，外部不可访问；_开头表示特殊变量，不要随意访问</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">## self 代表类的实例 而非类</span>
<span class="k">class</span> <span class="nc">Test</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">ppr</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">)</span>

<span class="n">t</span> <span class="o">=</span> <span class="n">Test</span><span class="p">()</span>
<span class="n">t</span><span class="o">.</span><span class="n">ppr</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&lt;__main__.Test object at 0x000002EFA50F5908&gt;
&lt;class &#39;__main__.Test&#39;&gt;
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">## self可以不写吗-- 类方法与对象方法</span>
<span class="k">class</span> <span class="nc">Test</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">ppr</span><span class="p">():</span>
        <span class="nb">print</span><span class="p">(</span><span class="vm">__class__</span><span class="p">)</span>

<span class="n">Test</span><span class="o">.</span><span class="n">ppr</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;__main__.Test&#39;&gt;
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">## 在继承时，传入的是哪个实例，就是那个传入的实例，而不是指定义了self的类的实例</span>
<span class="k">class</span> <span class="nc">Parent</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">pprt</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">Child</span><span class="p">(</span><span class="n">Parent</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">cprt</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">Child</span><span class="p">()</span>
<span class="n">c</span><span class="o">.</span><span class="n">cprt</span><span class="p">()</span>
<span class="n">c</span><span class="o">.</span><span class="n">pprt</span><span class="p">()</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">Parent</span><span class="p">()</span>
<span class="n">p</span><span class="o">.</span><span class="n">pprt</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">__main__</span><span class="o">.</span><span class="n">Child</span> <span class="nb">object</span> <span class="n">at</span> <span class="mh">0x000002EFA50F58C8</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">__main__</span><span class="o">.</span><span class="n">Child</span> <span class="nb">object</span> <span class="n">at</span> <span class="mh">0x000002EFA50F58C8</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">__main__</span><span class="o">.</span><span class="n">Parent</span> <span class="nb">object</span> <span class="n">at</span> <span class="mh">0x000002EFA50F5F08</span><span class="o">&gt;</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">## 在描述符类中，self指的是描述符类的实例</span>
<span class="k">class</span> <span class="nc">Desc</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__get__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ins</span><span class="p">,</span> <span class="bp">cls</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;self in Desc: </span><span class="si">%s</span><span class="s1"> &#39;</span> <span class="o">%</span> <span class="bp">self</span> <span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ins</span><span class="p">,</span> <span class="bp">cls</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">Test</span><span class="p">:</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">Desc</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">prt</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;self in Test: </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="p">)</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">Test</span><span class="p">()</span>
<span class="n">t</span><span class="o">.</span><span class="n">prt</span><span class="p">()</span>
<span class="n">t</span><span class="o">.</span><span class="n">x</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>self in Test: &lt;__main__.Test object at 0x000002EFA5103D08&gt;
self in Desc: &lt;__main__.Desc object at 0x000002EFA5103F88&gt; 
&lt;__main__.Desc object at 0x000002EFA5103F88&gt; &lt;__main__.Test object at 0x000002EFA5103D08&gt; &lt;class &#39;__main__.Test&#39;&gt;
</pre></div>
</div>
<ul class="simple">
<li><p>因为这里调用的是t.x，也就是说是Test类的实例t的属性x，由于实例t中并没有定义属性x，所以找到了类属性x，而该属性是描述符属性，为Desc类的实例而已，所以此处并没有调用Test的任何方法。</p></li>
<li><p>那么我们如果直接通过类来调用属性x也可以得到相同的结果。</p></li>
<li><p>python中存在的几种方法：对象方法、静态方法、类方法</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Test</span><span class="o">.</span><span class="n">x</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>self in Desc: &lt;__main__.Desc object at 0x000002EFA5103F88&gt; 
&lt;__main__.Desc object at 0x000002EFA5103F88&gt; None &lt;class &#39;__main__.Test&#39;&gt;
</pre></div>
</div>
<p>https://blog.csdn.net/lilong117194/article/details/80090951</p>
</div>
</div>
</div>
<div class="section" id="q83">
<h2><span class="section-number">1.6. </span>Q83 从有序链表中删除重复节点 **<a class="headerlink" href="#q83" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Node</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="kc">None</span>
<span class="n">nodea1</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;A1&quot;</span><span class="p">)</span>
<span class="n">nodea2</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;A2&quot;</span><span class="p">)</span>
<span class="n">nodea3</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;A3&quot;</span><span class="p">)</span>
<span class="n">nodeb1</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;B1&quot;</span><span class="p">)</span>
<span class="n">nodeb2</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;B2&quot;</span><span class="p">)</span>
<span class="n">nodeb3</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;B3&quot;</span><span class="p">)</span>
<span class="n">nodea1</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">nodea2</span>
<span class="n">nodea2</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">nodea3</span>

<span class="n">nodeb1</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">nodeb2</span>
<span class="n">nodeb2</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">nodeb3</span>
</pre></div>
</div>
<div class="section" id="wrong1">
<h3><span class="section-number">1.6.1. </span>wrong1<a class="headerlink" href="#wrong1" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">deleteDuplicates</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">head</span><span class="p">):</span>
        <span class="n">des</span> <span class="o">=</span> <span class="n">head</span>
        <span class="k">while</span> <span class="n">des</span><span class="p">:</span>
            <span class="n">pre</span> <span class="o">=</span> <span class="n">des</span>
            <span class="n">cur</span> <span class="o">=</span> <span class="n">des</span><span class="o">.</span><span class="n">next</span>
            <span class="k">while</span> <span class="n">cur</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">cur</span><span class="o">.</span><span class="n">data</span> <span class="o">==</span> <span class="n">des</span><span class="o">.</span><span class="n">data</span><span class="p">:</span>
                    <span class="n">pre</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">cur</span><span class="o">.</span><span class="n">next</span> 
                    <span class="n">pre</span> <span class="o">=</span> <span class="n">cur</span><span class="o">.</span><span class="n">next</span> <span class="c1">## pre = none ;cur error</span>
                    <span class="n">cur</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">next</span> 
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">pre</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">next</span>
                    <span class="n">cur</span> <span class="o">=</span> <span class="n">cur</span><span class="o">.</span><span class="n">next</span>
            <span class="n">des</span> <span class="o">=</span> <span class="n">des</span><span class="o">.</span><span class="n">next</span>
        <span class="k">return</span> <span class="n">head</span> 
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">nodea1</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;A1&quot;</span><span class="p">)</span>
<span class="n">nodea2</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;A1&quot;</span><span class="p">)</span>
<span class="n">nodea3</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;A3&quot;</span><span class="p">)</span>
<span class="n">nodea1</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">nodea2</span>
<span class="n">nodea2</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">nodea3</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">demo</span> <span class="o">=</span> <span class="n">Solution</span><span class="p">()</span>
<span class="n">node</span> <span class="o">=</span> <span class="n">demo</span><span class="o">.</span><span class="n">deleteDuplicates</span><span class="p">(</span><span class="n">nodea1</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">node</span><span class="o">.</span><span class="n">next</span><span class="o">.</span><span class="n">data</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;A3&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="demo2">
<h3><span class="section-number">1.6.2. </span>demo2<a class="headerlink" href="#demo2" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">deleteDuplicates2</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">head</span><span class="p">):</span>
        <span class="n">des</span> <span class="o">=</span> <span class="n">head</span>
        <span class="k">while</span> <span class="n">des</span><span class="p">:</span>
            <span class="n">cur</span> <span class="o">=</span> <span class="n">des</span><span class="o">.</span><span class="n">next</span>
            <span class="k">while</span> <span class="n">cur</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">cur</span><span class="o">.</span><span class="n">data</span> <span class="o">==</span> <span class="n">des</span><span class="o">.</span><span class="n">data</span><span class="p">:</span>
                    <span class="n">des</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">cur</span><span class="o">.</span><span class="n">next</span>
                <span class="n">cur</span> <span class="o">=</span> <span class="n">cur</span><span class="o">.</span><span class="n">next</span>              
            <span class="n">des</span> <span class="o">=</span> <span class="n">des</span><span class="o">.</span><span class="n">next</span>
        <span class="k">return</span> <span class="n">head</span> 
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">demo</span> <span class="o">=</span> <span class="n">Solution</span><span class="p">()</span>
<span class="n">node</span> <span class="o">=</span> <span class="n">demo</span><span class="o">.</span><span class="n">deleteDuplicates2</span><span class="p">(</span><span class="n">nodea1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="id15">
<h3><span class="section-number">1.6.3. </span>直接法<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">deleteDuplicates3</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">head</span><span class="p">):</span>
        <span class="n">cur</span> <span class="o">=</span> <span class="n">head</span>
        <span class="k">while</span> <span class="p">(</span><span class="n">cur</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">cur</span><span class="o">.</span><span class="n">next</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">cur</span><span class="o">.</span><span class="n">data</span> <span class="o">==</span> <span class="n">cur</span><span class="o">.</span><span class="n">next</span><span class="o">.</span><span class="n">data</span><span class="p">:</span>
                <span class="n">cur</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">cur</span><span class="o">.</span><span class="n">next</span><span class="o">.</span><span class="n">next</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">cur</span> <span class="o">=</span> <span class="n">cur</span><span class="o">.</span><span class="n">next</span>
        <span class="k">return</span> <span class="n">head</span> 
</pre></div>
</div>
<ul class="simple">
<li><p>这里是有序链表</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">demo</span> <span class="o">=</span> <span class="n">Solution</span><span class="p">()</span>
<span class="n">node</span> <span class="o">=</span> <span class="n">demo</span><span class="o">.</span><span class="n">deleteDuplicates3</span><span class="p">(</span><span class="n">nodea1</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">node</span><span class="o">.</span><span class="n">next</span><span class="o">.</span><span class="n">data</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;A3&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="id16">
<h3><span class="section-number">1.6.4. </span>递归***<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">deleteDuplicates</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">head</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">head</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">head</span><span class="o">.</span><span class="n">next</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">head</span>
        
        <span class="n">child</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deleteDuplicates</span><span class="p">(</span><span class="n">head</span><span class="o">.</span><span class="n">next</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">child</span> <span class="ow">and</span> <span class="n">head</span><span class="o">.</span><span class="n">val</span> <span class="o">==</span> <span class="n">child</span><span class="o">.</span><span class="n">val</span><span class="p">:</span>
            <span class="n">head</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">child</span><span class="o">.</span><span class="n">next</span>
            <span class="n">child</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="kc">None</span>
            
        <span class="k">return</span> <span class="n">head</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>    <span class="k">def</span> <span class="nf">deleteDuplicates</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">head</span><span class="o">=</span><span class="n">a1</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">head</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">head</span><span class="o">.</span><span class="n">next</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span><span class="k">return</span> <span class="n">head</span>
        <span class="n">child</span><span class="o">=</span><span class="n">a2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deleteDuplicates</span><span class="p">(</span><span class="n">head</span><span class="o">.</span><span class="n">next</span><span class="o">=</span><span class="n">a2</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">head</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">head</span><span class="o">.</span><span class="n">next</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span><span class="k">return</span> <span class="n">head</span>
            <span class="n">child</span><span class="o">=</span><span class="n">a3</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deleteDuplicates</span><span class="p">(</span><span class="n">head</span><span class="o">.</span><span class="n">next</span><span class="o">=</span><span class="n">a3</span><span class="p">)</span> 
                <span class="k">if</span> <span class="n">head</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">head</span><span class="o">.</span><span class="n">next</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span><span class="k">return</span> <span class="n">head</span><span class="o">=</span><span class="n">a3</span>
            <span class="k">if</span> <span class="n">child</span> <span class="ow">and</span> <span class="n">head</span><span class="o">.</span><span class="n">val</span> <span class="o">==</span> <span class="n">child</span><span class="o">.</span><span class="n">val</span><span class="p">:</span>
                <span class="n">head</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">child</span><span class="o">.</span><span class="n">next</span>
                <span class="n">child</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">return</span> <span class="n">head</span><span class="o">=</span><span class="n">a2</span>
        <span class="k">if</span> <span class="n">child</span> <span class="ow">and</span> <span class="n">head</span><span class="o">.</span><span class="n">val</span> <span class="o">==</span> <span class="n">child</span><span class="o">.</span><span class="n">val</span><span class="p">:</span>
            <span class="n">head</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">child</span><span class="o">.</span><span class="n">next</span>
            <span class="n">child</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="n">head</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">deleteDuplicates</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">head</span><span class="p">:</span> <span class="n">ListNode</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ListNode</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">head</span><span class="p">:</span>
            <span class="n">head</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deleteDuplicates</span><span class="p">(</span><span class="n">head</span><span class="o">.</span><span class="n">next</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">head</span><span class="o">.</span><span class="n">next</span> <span class="k">if</span> <span class="n">head</span><span class="o">.</span><span class="n">next</span> <span class="ow">and</span> <span class="n">head</span><span class="o">.</span><span class="n">val</span> <span class="o">==</span> <span class="n">head</span><span class="o">.</span><span class="n">next</span><span class="o">.</span><span class="n">val</span> <span class="k">else</span> <span class="n">head</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">deleteDuplicates</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">head</span><span class="p">:</span> <span class="n">ListNode</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ListNode</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">head</span><span class="p">:</span>
            <span class="n">head</span><span class="o">.</span><span class="n">next</span><span class="o">=</span><span class="n">a3</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deleteDuplicates</span><span class="p">(</span><span class="n">head</span><span class="o">.</span><span class="n">next</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">head</span><span class="o">=</span><span class="n">a2</span><span class="p">:</span>
                    <span class="n">head</span><span class="o">.</span><span class="n">next</span><span class="o">=</span><span class="n">a3</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deleteDuplicates</span><span class="p">(</span><span class="n">head</span><span class="o">.</span><span class="n">next</span><span class="o">=</span><span class="n">a3</span><span class="p">)</span>
                        <span class="k">if</span> <span class="n">head</span><span class="o">=</span><span class="n">a3</span><span class="p">:</span>
                            <span class="n">head</span><span class="o">.</span><span class="n">next</span><span class="o">=</span><span class="kc">None</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deleteDuplicates</span><span class="p">(</span><span class="n">head</span><span class="o">.</span><span class="n">next</span><span class="p">)</span>
                            <span class="k">return</span> <span class="n">head</span><span class="o">.</span><span class="n">next</span> <span class="k">if</span> <span class="n">head</span><span class="o">.</span><span class="n">next</span> <span class="ow">and</span> <span class="n">head</span><span class="o">.</span><span class="n">val</span> <span class="o">==</span> <span class="n">head</span><span class="o">.</span><span class="n">next</span><span class="o">.</span><span class="n">val</span> <span class="k">else</span> <span class="n">head</span><span class="o">=</span><span class="n">a3</span>
                    <span class="k">return</span> <span class="n">head</span><span class="o">.</span><span class="n">next</span><span class="o">=</span><span class="n">a3</span> <span class="k">if</span> <span class="n">head</span><span class="o">.</span><span class="n">next</span> <span class="ow">and</span> <span class="n">head</span><span class="o">.</span><span class="n">val</span> <span class="o">==</span> <span class="n">head</span><span class="o">.</span><span class="n">next</span><span class="o">.</span><span class="n">val</span> <span class="k">else</span> <span class="n">head</span>
            <span class="k">return</span> <span class="n">head</span><span class="o">.</span><span class="n">next</span> <span class="k">if</span> <span class="n">head</span><span class="o">.</span><span class="n">next</span> <span class="ow">and</span> <span class="n">head</span><span class="o">.</span><span class="n">val</span> <span class="o">==</span> <span class="n">head</span><span class="o">.</span><span class="n">next</span><span class="o">.</span><span class="n">val</span> <span class="k">else</span> <span class="n">head</span>
</pre></div>
</div>
<ul class="simple">
<li><p>如此精妙的递归是如何构建的</p></li>
<li><p>递归，可计算性，尾调用</p>
<ul>
<li><p>https://www.zhihu.com/question/271081962</p></li>
</ul>
</li>
</ul>
<div class="section" id="tips-fib">
<h4><span class="section-number">1.6.4.1. </span>Tips: 递归fib<a class="headerlink" href="#tips-fib" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>缓存装饰器</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">fibo</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">n</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">1</span>
    <span class="k">elif</span> <span class="n">n</span><span class="o">==</span><span class="mi">2</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">2</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">fibo</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">+</span><span class="n">fibo</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="n">time</span>
<span class="n">i</span><span class="o">=</span><span class="mi">1</span>
<span class="n">even</span><span class="o">=</span><span class="p">[]</span> <span class="c1"># 所有不超过4百万的偶数</span>
<span class="k">while</span> <span class="n">fibo</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">4000000</span><span class="p">:</span>
    <span class="c1"># 若该项是偶数，则添加进even[]</span>
    <span class="k">if</span> <span class="n">fibo</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">%</span> <span class="mi">2</span><span class="o">==</span><span class="mi">0</span><span class="p">:</span>
        <span class="n">even</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">fibo</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
    <span class="n">i</span><span class="o">+=</span><span class="mi">1</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;所有4百万以内的偶数之和=</span><span class="si">%d</span><span class="s1">&#39;</span><span class="o">%</span><span class="nb">sum</span><span class="p">(</span><span class="n">even</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">所有4百万以内的偶数之和</span><span class="o">=</span><span class="mi">4613732</span>
<span class="n">Wall</span> <span class="n">time</span><span class="p">:</span> <span class="mf">6.99</span> <span class="n">s</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">functools</span>

<span class="c1"># 方法一，自定义缓存装饰器</span>
<span class="k">def</span> <span class="nf">cache</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
    <span class="n">memo</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
    <span class="nd">@functools</span><span class="o">.</span><span class="n">wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">args</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">memo</span><span class="p">:</span>
            <span class="n">memo</span><span class="p">[</span><span class="n">args</span><span class="p">]</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">memo</span><span class="p">[</span><span class="n">args</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">wrapper</span>

<span class="nd">@cache</span>
<span class="k">def</span> <span class="nf">fib</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">n</span> <span class="o">&lt;=</span> <span class="mi">2</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="n">fib</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="n">fib</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># 方法二，使用内置缓存装饰器</span>
<span class="nd">@functools</span><span class="o">.</span><span class="n">lru_cache</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">fib</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">n</span> <span class="o">&lt;=</span> <span class="mi">2</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="n">fib</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="n">fib</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="n">time</span>
<span class="n">i</span> <span class="o">=</span> <span class="mi">0</span> 
<span class="n">even</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">while</span> <span class="n">fib</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">&lt;=</span><span class="mi">40000</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">fib</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">%</span><span class="mi">1</span><span class="o">==</span><span class="mi">0</span><span class="p">:</span>
        <span class="n">even</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">fib</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
    <span class="n">i</span><span class="o">+=</span><span class="mi">1</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Wall</span> <span class="n">time</span><span class="p">:</span> <span class="mi">999</span> <span class="n">µs</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">even</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">1</span><span class="p">,</span>
 <span class="mi">1</span><span class="p">,</span>
 <span class="mi">1</span><span class="p">,</span>
 <span class="mi">2</span><span class="p">,</span>
 <span class="mi">3</span><span class="p">,</span>
 <span class="mi">5</span><span class="p">,</span>
 <span class="mi">8</span><span class="p">,</span>
 <span class="mi">13</span><span class="p">,</span>
 <span class="mi">21</span><span class="p">,</span>
 <span class="mi">34</span><span class="p">,</span>
 <span class="mi">55</span><span class="p">,</span>
 <span class="mi">89</span><span class="p">,</span>
 <span class="mi">144</span><span class="p">,</span>
 <span class="mi">233</span><span class="p">,</span>
 <span class="mi">377</span><span class="p">,</span>
 <span class="mi">610</span><span class="p">,</span>
 <span class="mi">987</span><span class="p">,</span>
 <span class="mi">1597</span><span class="p">,</span>
 <span class="mi">2584</span><span class="p">,</span>
 <span class="mi">4181</span><span class="p">,</span>
 <span class="mi">6765</span><span class="p">,</span>
 <span class="mi">10946</span><span class="p">,</span>
 <span class="mi">17711</span><span class="p">,</span>
 <span class="mi">28657</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="q19-n">
<h2><span class="section-number">1.7. </span>Q19 删除链表的倒数第N个节点<a class="headerlink" href="#q19-n" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Node</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">val</span> <span class="o">=</span> <span class="n">x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="kc">None</span>

<span class="n">nodea1</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;A1&quot;</span><span class="p">)</span>
<span class="n">nodea2</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;A1&quot;</span><span class="p">)</span>
<span class="n">nodea3</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;A3&quot;</span><span class="p">)</span>
<span class="n">nodea1</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">nodea2</span>
<span class="n">nodea2</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">nodea3</span>
</pre></div>
</div>
<ul class="simple">
<li><p>只有一个值，两个值删除头部</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">removeNthFromEnd</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">head</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
        <span class="n">counter</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">head1</span> <span class="o">=</span> <span class="n">head</span>
        <span class="n">head2</span> <span class="o">=</span> <span class="n">head</span>
        <span class="k">while</span> <span class="n">head1</span><span class="o">.</span><span class="n">next</span><span class="p">:</span>
            <span class="n">head1</span> <span class="o">=</span> <span class="n">head1</span><span class="o">.</span><span class="n">next</span>
            <span class="n">counter</span><span class="o">+=</span><span class="mi">1</span>
        <span class="k">if</span> <span class="n">counter</span> <span class="o">==</span> <span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">head</span><span class="o">.</span><span class="n">next</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">i</span> <span class="o">=</span> <span class="n">counter</span><span class="o">-</span><span class="n">n</span>
            <span class="k">while</span> <span class="n">i</span><span class="p">:</span>
                <span class="n">head2</span><span class="o">=</span><span class="n">head2</span><span class="o">.</span><span class="n">next</span>
                <span class="n">i</span> <span class="o">=</span> <span class="n">i</span><span class="o">-</span><span class="mi">1</span>
            <span class="n">head2</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">head2</span><span class="o">.</span><span class="n">next</span><span class="o">.</span><span class="n">next</span>
            <span class="k">return</span> <span class="n">head</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">demo</span> <span class="o">=</span> <span class="n">Solution</span><span class="p">()</span>
<span class="n">demo</span><span class="o">.</span><span class="n">removeNthFromEnd1</span><span class="p">(</span><span class="n">nodea1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">__main__</span><span class="o">.</span><span class="n">Node</span> <span class="n">at</span> <span class="mh">0x1c03d98a888</span><span class="o">&gt;</span>
</pre></div>
</div>
<div class="section" id="id17">
<h3><span class="section-number">1.7.1. </span>两次遍历方法<a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>添加哑结点，简化极端情况</p></li>
<li><p>时间复杂度：$O(L)$，该算法对列表进行了两次遍历，首先计算了列表的长度 L 其次找到第 $(L - n)$个结点。 操作执行了 $2L-n$。</p></li>
<li><p>空间复杂度：$O(1)$，我们只用了常量级的额外空间</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">removeNthFromEnd</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">head</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
        <span class="n">dummy</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">dummy</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">head</span>
        <span class="n">counter</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">first</span> <span class="o">=</span> <span class="n">head</span>
        <span class="k">while</span> <span class="n">first</span><span class="p">:</span>
            <span class="n">counter</span><span class="o">+=</span><span class="mi">1</span>
            <span class="n">first</span> <span class="o">=</span> <span class="n">first</span><span class="o">.</span><span class="n">next</span>
        <span class="n">i</span> <span class="o">=</span> <span class="n">counter</span><span class="o">-</span><span class="n">n</span>
        <span class="n">first</span> <span class="o">=</span> <span class="n">dummy</span>
        <span class="k">while</span> <span class="n">i</span><span class="p">:</span>
            <span class="n">i</span> <span class="o">-=</span><span class="mi">1</span>
            <span class="n">first</span> <span class="o">=</span> <span class="n">first</span><span class="o">.</span><span class="n">next</span>
        <span class="n">first</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">first</span><span class="o">.</span><span class="n">next</span><span class="o">.</span><span class="n">next</span>
        <span class="k">return</span> <span class="n">dummy</span><span class="o">.</span><span class="n">next</span>
</pre></div>
</div>
</div>
<div class="section" id="id18">
<h3><span class="section-number">1.7.2. </span>一次遍历方法<a class="headerlink" href="#id18" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>快慢指针间隔n</p></li>
<li><p>时间复杂度：$O(L)$，该算法对含有 $L$ 个结点的列表进行了一次遍历。</p></li>
<li><p>空间复杂度：$O(1)$，我们只用了常量级的额外空间</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">removeNthFromEnd</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">head</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
        <span class="n">dummy</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">dummy</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">head</span>
        <span class="n">pre</span> <span class="o">=</span> <span class="n">dummy</span>
        <span class="n">cur</span> <span class="o">=</span> <span class="n">dummy</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
            <span class="n">cur</span> <span class="o">=</span> <span class="n">cur</span><span class="o">.</span><span class="n">next</span>
        <span class="k">while</span> <span class="n">cur</span><span class="p">:</span>
            <span class="n">pre</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">next</span>
            <span class="n">cur</span> <span class="o">=</span> <span class="n">cur</span><span class="o">.</span><span class="n">next</span>
        <span class="n">pre</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">next</span><span class="o">.</span><span class="n">next</span>
        <span class="k">return</span> <span class="n">dummy</span><span class="o">.</span><span class="n">next</span>
</pre></div>
</div>
</div>
<div class="section" id="id19">
<h3><span class="section-number">1.7.3. </span>递归<a class="headerlink" href="#id19" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span> 
    <span class="k">def</span> <span class="nf">removeNthFromEnd</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">head</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
        <span class="k">global</span> <span class="n">i</span> 
        <span class="k">if</span> <span class="n">head</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="n">head</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">removeNthFromEnd</span><span class="p">(</span><span class="n">head</span><span class="o">.</span><span class="n">next</span><span class="p">,</span><span class="n">n</span><span class="p">)</span>
        <span class="n">i</span><span class="o">+=</span><span class="mi">1</span>
        <span class="k">return</span> <span class="n">head</span><span class="o">.</span><span class="n">next</span> <span class="k">if</span> <span class="n">i</span><span class="o">==</span><span class="n">n</span> <span class="k">else</span> <span class="n">head</span>
</pre></div>
</div>
<p>A1–&gt;A2–&gt;A3</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>    <span class="k">def</span> <span class="nf">removeNthFromEnd</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">head</span><span class="o">=</span><span class="n">A1</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">2</span><span class="p">):</span>
        <span class="n">head</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">A3</span> <span class="o">=</span> <span class="n">removeNthFromEnd</span><span class="p">(</span><span class="n">head</span><span class="o">.</span><span class="n">next</span><span class="o">=</span><span class="n">A2</span><span class="p">,</span><span class="n">n</span><span class="p">)</span>
            <span class="n">head</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">A3</span> <span class="o">=</span> <span class="n">removeNthFromEnd</span><span class="p">(</span><span class="n">head</span><span class="o">.</span><span class="n">next</span><span class="o">=</span><span class="n">A3</span><span class="p">,</span><span class="n">n</span><span class="p">)</span>
                <span class="n">head</span><span class="o">.</span><span class="n">next</span><span class="o">=</span><span class="kc">None</span> <span class="o">=</span> <span class="n">removeNthFromEnd</span><span class="p">(</span><span class="n">head</span><span class="o">.</span><span class="n">next</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">n</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">head</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                        <span class="n">i</span><span class="o">=</span><span class="mi">0</span>
                        <span class="k">return</span> <span class="kc">None</span>
                <span class="n">i</span><span class="o">+=</span><span class="mi">1</span> <span class="o">=</span><span class="mi">1</span>
                <span class="k">return</span> <span class="n">head</span><span class="o">.</span><span class="n">next</span> <span class="k">if</span> <span class="n">i</span><span class="o">==</span><span class="n">n</span> <span class="k">else</span> <span class="n">head</span> <span class="o">=</span><span class="n">A3</span>              
            <span class="n">i</span><span class="o">+=</span><span class="mi">1</span> <span class="o">=</span><span class="mi">2</span>
            <span class="k">return</span> <span class="n">head</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">A3</span> <span class="k">if</span> <span class="n">i</span><span class="o">==</span><span class="n">n</span> <span class="k">else</span> <span class="n">head</span>    
        <span class="n">i</span><span class="o">+=</span><span class="mi">1</span> <span class="o">=</span><span class="mi">3</span> 
        <span class="k">return</span> <span class="n">head</span><span class="o">.</span><span class="n">next</span> <span class="k">if</span> <span class="n">i</span><span class="o">==</span><span class="n">n</span> <span class="k">else</span> <span class="n">head</span>  <span class="o">=</span><span class="n">A1</span>  
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">demo</span> <span class="o">=</span> <span class="n">Solution</span><span class="p">()</span>
<span class="n">demo</span><span class="o">.</span><span class="n">removeNthFromEnd</span><span class="p">(</span><span class="n">nodea1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">__main__</span><span class="o">.</span><span class="n">Node</span> <span class="n">at</span> <span class="mh">0x1c03d98a888</span><span class="o">&gt;</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">nodea1</span><span class="o">.</span><span class="n">val</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;A1&#39;</span>
</pre></div>
</div>
<div class="section" id="id20">
<h4><span class="section-number">1.7.3.1. </span>Tips: 全局变量 局部变量与 非局部变量<a class="headerlink" href="#id20" title="Permalink to this headline">¶</a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">global</span> <span class="n">i</span>
<span class="k">nonlocal</span> <span class="n">i</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>  <span class="n">File</span> <span class="s2">&quot;&lt;ipython-input-33-fdfe75b6846f&gt;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">4</span>
<span class="ne">SyntaxError</span><span class="p">:</span> <span class="n">name</span> <span class="s1">&#39;i&#39;</span> <span class="ow">is</span> <span class="k">nonlocal</span> <span class="ow">and</span> <span class="k">global</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="q24">
<h2><span class="section-number">1.8. </span>Q24 两两交换链表中的相邻结点<a class="headerlink" href="#q24" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">ListNode</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">val</span> <span class="o">=</span> <span class="n">x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="kc">None</span>
<span class="n">nodea1</span> <span class="o">=</span> <span class="n">ListNode</span><span class="p">(</span><span class="s2">&quot;A1&quot;</span><span class="p">)</span>
<span class="n">nodea2</span> <span class="o">=</span> <span class="n">ListNode</span><span class="p">(</span><span class="s2">&quot;A2&quot;</span><span class="p">)</span>
<span class="n">nodea3</span> <span class="o">=</span> <span class="n">ListNode</span><span class="p">(</span><span class="s2">&quot;A3&quot;</span><span class="p">)</span>
<span class="n">nodea4</span> <span class="o">=</span> <span class="n">ListNode</span><span class="p">(</span><span class="s2">&quot;A4&quot;</span><span class="p">)</span>
<span class="n">nodea1</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">nodea2</span>
<span class="n">nodea2</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">nodea3</span>
<span class="n">nodea3</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">nodea4</span>
</pre></div>
</div>
<div class="section" id="id21">
<h3><span class="section-number">1.8.1. </span>指针<a class="headerlink" href="#id21" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>四个指针+哑结点</p></li>
<li><p>时间复杂度：$O(N)$，其中 N 指的是链表的节点数量。</p></li>
<li><p>空间复杂度：$O(1)$</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">swapPairs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">head</span><span class="p">):</span>
        <span class="n">dummy</span><span class="p">,</span><span class="n">dummy</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">ListNode</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span><span class="n">head</span>
        <span class="n">prev</span> <span class="o">=</span> <span class="n">dummy</span>
        <span class="k">while</span> <span class="n">head</span> <span class="ow">and</span> <span class="n">head</span><span class="o">.</span><span class="n">next</span><span class="p">:</span>
            <span class="n">fst</span><span class="p">,</span><span class="n">sec</span> <span class="o">=</span> <span class="n">head</span><span class="p">,</span><span class="n">head</span><span class="o">.</span><span class="n">next</span>
            <span class="n">prev</span><span class="o">.</span><span class="n">next</span><span class="p">,</span><span class="n">fst</span><span class="o">.</span><span class="n">next</span><span class="p">,</span><span class="n">sec</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">sec</span><span class="p">,</span><span class="n">sec</span><span class="o">.</span><span class="n">next</span><span class="p">,</span><span class="n">fst</span>
            <span class="n">head</span><span class="p">,</span><span class="n">prev</span> <span class="o">=</span> <span class="n">head</span><span class="o">.</span><span class="n">next</span><span class="p">,</span><span class="n">head</span>
        <span class="k">return</span> <span class="n">dummy</span><span class="o">.</span><span class="n">next</span>        
</pre></div>
</div>
</div>
<div class="section" id="id22">
<h3><span class="section-number">1.8.2. </span>递归<a class="headerlink" href="#id22" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">swapPairs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">head</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">head</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">head</span><span class="o">.</span><span class="n">next</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">head</span>
        <span class="n">fst</span><span class="p">,</span><span class="n">sec</span> <span class="o">=</span> <span class="n">head</span><span class="p">,</span><span class="n">head</span><span class="o">.</span><span class="n">next</span>
        <span class="n">fst</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">swapPairs</span><span class="p">(</span><span class="n">sec</span><span class="o">.</span><span class="n">next</span><span class="p">)</span>
        <span class="n">sec</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">fst</span>
        <span class="k">return</span> <span class="n">sec</span>
</pre></div>
</div>
<p>1–&gt;2–&gt;3–&gt;4  ===  2–&gt;1–&gt;4–&gt;3</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">swapPairs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">head</span><span class="p">):</span>
        <span class="n">fst</span><span class="p">,</span><span class="n">sec</span> <span class="o">=</span> <span class="n">head</span><span class="p">,</span><span class="n">head</span><span class="o">.</span><span class="n">next</span>
        <span class="n">fst</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span><span class="mi">4</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">swapPairs</span><span class="p">(</span><span class="n">sec</span><span class="o">.</span><span class="n">next</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
            <span class="n">fst</span><span class="p">,</span><span class="n">sec</span> <span class="o">=</span> <span class="n">head</span><span class="p">,</span><span class="n">head</span><span class="o">.</span><span class="n">next</span>
            <span class="n">fst</span><span class="o">.</span><span class="n">next</span><span class="o">=</span><span class="kc">None</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">swapPairs</span><span class="p">(</span><span class="n">sec</span><span class="o">.</span><span class="n">next</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">head</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">head</span><span class="o">.</span><span class="n">next</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">head</span> <span class="o">=</span><span class="kc">None</span>
            <span class="n">sec</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">fst</span>
            <span class="k">return</span> <span class="n">sec</span><span class="o">=</span><span class="mi">4</span>
        <span class="n">sec</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">fst</span><span class="o">=</span><span class="mi">1</span>
        <span class="k">return</span> <span class="n">sec</span><span class="o">=</span><span class="mi">2</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="q445-add-two-numbers-ii">
<h2><span class="section-number">1.9. </span>Q445 Add Two Numbers II *****<a class="headerlink" href="#q445-add-two-numbers-ii" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id23">
<h3><span class="section-number">1.9.1. </span>加法递归<a class="headerlink" href="#id23" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">addTwoNumbers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">l1</span><span class="p">,</span> <span class="n">l2</span><span class="p">):</span>
        <span class="c1">## 计算长度 使l1为长链</span>
        <span class="n">num1</span> <span class="o">=</span> <span class="n">num2</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">cur</span> <span class="o">=</span> <span class="n">l2</span> 
        <span class="k">while</span> <span class="n">cur</span><span class="p">:</span>
            <span class="n">num2</span><span class="o">+=</span><span class="mi">1</span>
            <span class="n">cur</span> <span class="o">=</span> <span class="n">cur</span><span class="o">.</span><span class="n">next</span>
        <span class="n">cur</span> <span class="o">=</span> <span class="n">l1</span>
        <span class="k">while</span> <span class="n">cur</span><span class="p">:</span>
            <span class="n">num1</span> <span class="o">+=</span><span class="mi">1</span>
            <span class="n">cur</span> <span class="o">=</span> <span class="n">cur</span><span class="o">.</span><span class="n">next</span>
        
        <span class="k">if</span> <span class="n">num2</span><span class="o">&gt;</span><span class="n">num1</span><span class="p">:</span>
            <span class="n">l1</span><span class="p">,</span><span class="n">l2</span> <span class="o">=</span> <span class="n">l2</span><span class="p">,</span><span class="n">l1</span>
            <span class="n">num2</span><span class="p">,</span><span class="n">num1</span> <span class="o">=</span> <span class="n">num1</span><span class="p">,</span><span class="n">num2</span>

        <span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">num1</span><span class="p">,</span><span class="n">num2</span><span class="p">,</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">i</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">j</span><span class="p">:</span>
                <span class="k">return</span> <span class="mi">0</span>
            <span class="k">if</span> <span class="n">num1</span><span class="o">&gt;</span><span class="n">num2</span><span class="p">:</span>
                <span class="n">temp</span> <span class="o">=</span> <span class="n">i</span><span class="o">.</span><span class="n">val</span> <span class="o">+</span><span class="n">add</span><span class="p">(</span><span class="n">num1</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">num2</span><span class="p">,</span><span class="n">i</span><span class="o">.</span><span class="n">next</span><span class="p">,</span><span class="n">j</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">temp</span> <span class="o">=</span> <span class="n">i</span><span class="o">.</span><span class="n">val</span> <span class="o">+</span> <span class="n">j</span><span class="o">.</span><span class="n">val</span> <span class="o">+</span> <span class="n">add</span><span class="p">(</span><span class="n">num1</span><span class="p">,</span><span class="n">num2</span><span class="p">,</span><span class="n">i</span><span class="o">.</span><span class="n">next</span><span class="p">,</span><span class="n">j</span><span class="o">.</span><span class="n">next</span><span class="p">)</span>
            <span class="n">i</span><span class="o">.</span><span class="n">val</span> <span class="o">=</span> <span class="n">temp</span><span class="o">%</span><span class="mi">10</span>  <span class="c1">##直接修改l1的值</span>
            <span class="k">return</span> <span class="n">temp</span><span class="o">//</span><span class="mi">10</span>

        <span class="k">if</span> <span class="n">add</span><span class="p">(</span><span class="n">num1</span><span class="p">,</span><span class="n">num2</span><span class="p">,</span><span class="n">l1</span><span class="p">,</span><span class="n">l2</span><span class="p">):</span>
            <span class="n">head</span> <span class="o">=</span> <span class="n">ListNode</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">head</span><span class="o">.</span><span class="n">next</span><span class="p">,</span><span class="n">l1</span> <span class="o">=</span> <span class="n">l1</span><span class="p">,</span><span class="n">head</span>
        <span class="k">return</span> <span class="n">l1</span>
</pre></div>
</div>
<p>1-&gt;9-&gt;7   8-&gt;1-&gt;1</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">addTwoNumbers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">l1</span><span class="p">,</span> <span class="n">l2</span><span class="p">):</span>
    <span class="n">num1</span> <span class="o">=</span> <span class="mi">4</span> <span class="n">num2</span> <span class="o">=</span><span class="mi">4</span>

    <span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">num1</span><span class="p">,</span><span class="n">num2</span><span class="p">,</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">):</span>
        <span class="k">else</span> <span class="n">num1</span><span class="o">=</span> <span class="n">num2</span><span class="p">:</span>
            <span class="n">temp</span> <span class="o">=</span> <span class="n">i</span><span class="o">.</span><span class="n">val</span> <span class="o">+</span> <span class="n">j</span><span class="o">.</span><span class="n">val</span> <span class="o">+</span> <span class="n">add</span><span class="p">(</span><span class="n">num1</span><span class="p">,</span><span class="n">num2</span><span class="p">,</span><span class="n">i</span><span class="o">.</span><span class="n">next</span><span class="p">,</span><span class="n">j</span><span class="o">.</span><span class="n">next</span><span class="p">)</span> 
            <span class="c1">## temp = 1+8+add(4,4,9,1) = 10</span>
               <span class="c1">## temp = 9+1+add(4,4,7,1) = 10</span>
                <span class="c1">## temp = 7+1+add(4,4,none,none) =8</span>
                <span class="c1">## i.val = 8 return 0</span>
               <span class="c1">## i.val =0  return 1</span>
            <span class="c1">## i.val = 0 return 1</span>
        <span class="n">i</span><span class="o">.</span><span class="n">val</span> <span class="o">=</span> <span class="n">temp</span><span class="o">%</span><span class="mi">10</span><span class="c1">## 取余</span>
        <span class="k">return</span> <span class="n">temp</span><span class="o">//</span><span class="mi">10</span><span class="c1">## 取整</span>

    <span class="k">if</span> <span class="n">add</span><span class="p">(</span><span class="n">num1</span><span class="p">,</span><span class="n">num2</span><span class="p">,</span><span class="n">l1</span><span class="p">,</span><span class="n">l2</span><span class="p">):</span> <span class="c1">##=1</span>
        <span class="n">head</span> <span class="o">=</span> <span class="n">ListNode</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">head</span><span class="o">.</span><span class="n">next</span><span class="p">,</span><span class="n">l1</span> <span class="o">=</span> <span class="n">l1</span><span class="p">,</span><span class="n">head</span>
    <span class="k">return</span> <span class="n">l1</span>
</pre></div>
</div>
</div>
<div class="section" id="id24">
<h3><span class="section-number">1.9.2. </span>双栈法<a class="headerlink" href="#id24" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>&#64;关键点：</p></li>
</ul>
<ol class="simple">
<li><p>两数相加由于是从低位加到高位，需要从最后的节点开始，可以想到用栈来解决</p></li>
</ol>
<ul class="simple">
<li><p>&#64;思路：</p></li>
</ul>
<ol class="simple">
<li><p>先将两个链表的每个值存入栈中，然后将每个栈中对应位置的节点相加</p></li>
<li><p>进位通过一个变量保存，每次迭代都将该值加上</p></li>
</ol>
<ul class="simple">
<li><p>&#64;注意点：</p></li>
</ul>
<ol class="simple">
<li><p>创建链表时，要用 头插法，否则链表是反的</p></li>
<li><p>判断迭代是否可以继续时，要注意当进位值存在时也需要继续，因为可能出现两个栈都空但存在进位的情况</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">addTwoNumbers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">l1</span><span class="p">,</span> <span class="n">l2</span><span class="p">):</span>
        <span class="n">s1</span><span class="p">,</span><span class="n">s2</span> <span class="o">=</span> <span class="p">[],[]</span>
        <span class="k">while</span> <span class="n">l1</span><span class="p">:</span><span class="n">s1</span><span class="p">,</span><span class="n">l1</span> <span class="o">=</span> <span class="n">s1</span><span class="o">+</span><span class="p">[</span><span class="n">l1</span><span class="o">.</span><span class="n">val</span><span class="p">],</span><span class="n">l1</span><span class="o">.</span><span class="n">next</span><span class="c1"># 先进后出</span>
        <span class="k">while</span> <span class="n">l2</span><span class="p">:</span><span class="n">s2</span><span class="p">,</span><span class="n">l2</span> <span class="o">=</span> <span class="n">s2</span><span class="o">+</span><span class="p">[</span><span class="n">l2</span><span class="o">.</span><span class="n">val</span><span class="p">],</span><span class="n">l2</span><span class="o">.</span><span class="n">next</span>
        <span class="n">dummy</span> <span class="o">=</span> <span class="n">ListNode</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">carry</span> <span class="o">=</span> <span class="mi">0</span>
        
        <span class="k">while</span> <span class="n">s1</span> <span class="ow">or</span> <span class="n">s2</span> <span class="ow">or</span> <span class="n">carry</span><span class="p">:</span>
            <span class="n">n1</span><span class="p">,</span><span class="n">n2</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span>
            <span class="k">if</span> <span class="n">s1</span><span class="p">:</span><span class="n">n1</span> <span class="o">=</span> <span class="n">s1</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span> <span class="ow">or</span> <span class="mi">0</span>
            <span class="k">if</span> <span class="n">s2</span><span class="p">:</span><span class="n">n2</span> <span class="o">=</span> <span class="n">s1</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span> <span class="ow">or</span> <span class="mi">0</span>
            <span class="n">count</span> <span class="o">=</span> <span class="n">carry</span> <span class="o">+</span> <span class="n">n1</span> <span class="o">+</span> <span class="n">n2</span>
            <span class="n">n</span> <span class="o">=</span> <span class="n">count</span><span class="o">%</span><span class="mi">10</span>
            <span class="c1"># 头插法创建链表    </span>
            <span class="n">node</span> <span class="o">=</span> <span class="n">ListNode</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
            <span class="n">node</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">dummy</span><span class="o">.</span><span class="n">next</span>
            <span class="n">dummy</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">node</span>
            <span class="c1"># 进位数</span>
            <span class="n">carry</span> <span class="o">=</span> <span class="n">count</span><span class="o">//</span><span class="mi">10</span>
        <span class="k">return</span> <span class="n">dummy</span><span class="o">.</span><span class="n">next</span>
</pre></div>
</div>
<ul class="simple">
<li><p>头插法<br />node.next = dummy.next<br />dummy.next = node</p></li>
</ul>
</div>
</div>
<div class="section" id="q234-palindrome-linked-list">
<h2><span class="section-number">1.10. </span>Q234 Palindrome Linked List****<a class="headerlink" href="#q234-palindrome-linked-list" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id25">
<h3><span class="section-number">1.10.1. </span>链表反转<a class="headerlink" href="#id25" title="Permalink to this headline">¶</a></h3>
<ol class="simple">
<li><p>找到前半部分链表的尾节点：</p>
<ul class="simple">
<li><p>计算链表节点的数量，然后遍历链表找到前半部分的尾节点。</p></li>
<li><p>或者可以使用快慢指针在一次遍历中找到：慢指针一次走一步，快指针一次走两步，快慢指针同时出发。当快指针移动到链表的末尾时，慢指针到链表的中间。通过慢指针将链表分为两部分。</p></li>
</ul>
</li>
<li><p>反转后半部分链表</p></li>
<li><p>判断是否为回文：比较两个部分的值，当后半部分到达末尾则比较完成，可以忽略计数情况中的中间节点</p></li>
<li><p>恢复链表：再次反转</p></li>
</ol>
<ul class="simple">
<li><p>时间复杂度：$O(n)$，其中 $n$ 指的是链表的大小。</p></li>
<li><p>空间复杂度：$O(1)$，我们是一个接着一个的改变指针，我们在堆栈上的堆栈帧不超过 $O(1)$。</p></li>
<li><p>该方法的缺点是，在并发环境下，函数运行时需要锁定其他线程或进程对链表的访问，因为在函数执执行过程中链表暂时断开。</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">end_of_first_half</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">head</span><span class="p">):</span>
        <span class="n">fast</span> <span class="o">=</span> <span class="n">head</span>
        <span class="n">slow</span> <span class="o">=</span> <span class="n">head</span>
        <span class="k">while</span> <span class="n">fast</span><span class="o">.</span><span class="n">next</span> <span class="ow">and</span> <span class="n">fast</span><span class="o">.</span><span class="n">next</span><span class="o">.</span><span class="n">next</span><span class="p">:</span>
            <span class="n">fast</span> <span class="o">=</span> <span class="n">fast</span><span class="o">.</span><span class="n">next</span><span class="o">.</span><span class="n">next</span>
            <span class="n">slow</span> <span class="o">=</span> <span class="n">slow</span><span class="o">.</span><span class="n">next</span>
        <span class="k">return</span> <span class="n">slow</span>

    <span class="k">def</span> <span class="nf">reverse_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">head</span><span class="p">):</span>
        <span class="n">previous</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">current</span> <span class="o">=</span> <span class="n">head</span>
        <span class="k">while</span> <span class="n">current</span><span class="p">:</span>
            <span class="n">next_node</span> <span class="o">=</span> <span class="n">current</span><span class="o">.</span><span class="n">next</span>
            <span class="n">current</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">previous</span>
            <span class="n">previous</span> <span class="o">=</span> <span class="n">current</span>
            <span class="n">current</span> <span class="o">=</span> <span class="n">next_node</span>
        <span class="k">return</span> <span class="n">previous</span>

    <span class="k">def</span> <span class="nf">isPalindrome</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">head</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">head</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="n">fir_end</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">end_of_first_half</span><span class="p">(</span><span class="n">head</span><span class="p">)</span>
        <span class="n">sec_sta</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">reverse_list</span><span class="p">(</span><span class="n">fir_end</span><span class="o">.</span><span class="n">next</span><span class="p">)</span>
        
        <span class="n">result</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">firP</span> <span class="o">=</span> <span class="n">head</span>
        <span class="n">secP</span> <span class="o">=</span> <span class="n">sec_sta</span>
        <span class="k">while</span> <span class="n">result</span> <span class="ow">and</span> <span class="p">(</span><span class="n">secP</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">):</span> <span class="c1">## and 可以不用is not none  none and 1 = none none and 0 = none none or 1 = 1 </span>
            <span class="k">if</span> <span class="n">firP</span><span class="o">.</span><span class="n">val</span> <span class="o">!=</span> <span class="n">secP</span><span class="o">.</span><span class="n">val</span><span class="p">:</span>
                <span class="n">result</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="n">firP</span> <span class="o">=</span> <span class="n">firP</span><span class="o">.</span><span class="n">next</span>
            <span class="n">secP</span> <span class="o">=</span> <span class="n">secP</span><span class="o">.</span><span class="n">next</span>
   
        <span class="n">fir_end</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">reverse_list</span><span class="p">(</span><span class="n">sec_sta</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">#  简写</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">end_of_first_half</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">head</span><span class="p">):</span>
        <span class="n">slow</span><span class="p">,</span><span class="n">fast</span> <span class="o">=</span> <span class="n">head</span><span class="p">,</span><span class="n">head</span>
        <span class="k">while</span> <span class="n">fast</span><span class="o">.</span><span class="n">next</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">fast</span><span class="o">.</span><span class="n">next</span><span class="o">.</span><span class="n">next</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">slow</span><span class="p">,</span><span class="n">fast</span> <span class="o">=</span> <span class="n">slow</span><span class="o">.</span><span class="n">next</span><span class="p">,</span><span class="n">fast</span><span class="o">.</span><span class="n">next</span><span class="o">.</span><span class="n">next</span>
        <span class="k">return</span> <span class="n">slow</span>
    
    <span class="k">def</span> <span class="nf">reverse_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">head</span><span class="p">):</span>
        <span class="n">cur</span><span class="p">,</span><span class="n">pre</span> <span class="o">=</span> <span class="n">head</span><span class="p">,</span><span class="kc">None</span>
        <span class="k">while</span> <span class="n">cur</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">cur</span><span class="o">.</span><span class="n">next</span><span class="p">,</span><span class="n">pre</span><span class="p">,</span><span class="n">cur</span> <span class="o">=</span> <span class="n">pre</span><span class="p">,</span><span class="n">cur</span><span class="p">,</span><span class="n">cur</span><span class="o">.</span><span class="n">next</span>
        <span class="k">return</span> <span class="n">pre</span>
    
    <span class="k">def</span> <span class="nf">isPalindrome</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">head</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">head</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="n">slow</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">end_of_first_half</span><span class="p">(</span><span class="n">head</span><span class="p">)</span>
        <span class="n">sec_sta</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">reverse_list</span><span class="p">(</span><span class="n">slow</span><span class="o">.</span><span class="n">next</span><span class="p">)</span>
        
        <span class="c1">#slow.next = None</span>
        <span class="n">result</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">a</span><span class="p">,</span><span class="n">b</span> <span class="o">=</span> <span class="n">head</span><span class="p">,</span><span class="n">sec_sta</span>
        <span class="c1">## 前半部分后半部分对比</span>
        <span class="k">while</span> <span class="n">result</span> <span class="ow">and</span> <span class="p">(</span><span class="n">b</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">a</span><span class="o">.</span><span class="n">val</span> <span class="o">!=</span> <span class="n">b</span><span class="o">.</span><span class="n">val</span><span class="p">:</span>
                <span class="n">result</span> <span class="o">=</span>  <span class="kc">False</span>
            <span class="n">a</span><span class="p">,</span><span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">next</span><span class="p">,</span><span class="n">b</span><span class="o">.</span><span class="n">next</span>  <span class="c1">##一个.调我一下午！！</span>

        <span class="n">slow</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">reverse_list</span><span class="p">(</span><span class="n">sec_sta</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>
</pre></div>
</div>
</div>
<div class="section" id="id26">
<h3><span class="section-number">1.10.2. </span>数组<a class="headerlink" href="#id26" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>时间复杂度：$O(n)$，其中 $n$ 指的是链表的元素个数。</p>
<ul>
<li><p>第一步： 遍历链表并将值复制到数组中，$O(n)$。</p></li>
<li><p>第二步：双指针判断是否为回文，执行了 $O(n/2)$ 次的判断，即 $O(n)$。</p></li>
<li><p>总的时间复杂度：$O(2n) = O(n)$。</p></li>
</ul>
</li>
<li><p>空间复杂度：$O(n)$，其中 $n$ 指的是链表的元素个数，我们使用了一个数组列表存放链表的元素值。</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">end_of_first_half</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">head</span><span class="p">):</span>
        <span class="n">vals</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">current_node</span> <span class="o">=</span> <span class="n">head</span>
        <span class="k">while</span> <span class="n">current_node</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">vals</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">current_node</span><span class="o">.</span><span class="n">val</span><span class="p">)</span>
            <span class="n">current_node</span> <span class="o">=</span> <span class="n">current_node</span><span class="o">.</span><span class="n">next</span>
        <span class="k">return</span> <span class="n">vals</span> <span class="o">==</span> <span class="n">vals</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="id27">
<h3><span class="section-number">1.10.3. </span>递归&#64;&#64;<a class="headerlink" href="#id27" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">end_of_first_half</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">head</span><span class="p">):</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">front_pointer</span> <span class="o">=</span> <span class="n">head</span>

        <span class="k">def</span> <span class="nf">recursively_check</span><span class="p">(</span><span class="n">current_node</span><span class="o">=</span><span class="n">head</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">current_node</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">recursively_check</span><span class="p">(</span><span class="n">current_node</span><span class="o">.</span><span class="n">next</span><span class="p">):</span>
                    <span class="k">return</span> <span class="kc">False</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">front_pointer</span><span class="o">.</span><span class="n">val</span> <span class="o">!=</span> <span class="n">current_node</span><span class="o">.</span><span class="n">val</span><span class="p">:</span>
                    <span class="k">return</span> <span class="kc">False</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">front_pointer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">front_pointer</span><span class="o">.</span><span class="n">next</span>
            <span class="k">return</span> <span class="kc">True</span>

        <span class="k">return</span> <span class="n">recursively_check</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="q725-split-linked-list-in-parts-medium">
<h2><span class="section-number">1.11. </span>Q725. Split Linked List in Parts(Medium)<a class="headerlink" href="#q725-split-linked-list-in-parts-medium" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">splitListToParts</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">,</span> <span class="n">k</span><span class="p">):</span>
        <span class="n">num</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">while</span> <span class="n">root</span><span class="p">:</span>
            <span class="n">root</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">next</span>
            <span class="n">num</span><span class="o">+=</span><span class="mi">1</span>
        <span class="n">ls</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">num</span><span class="o">&lt;</span> <span class="n">k</span><span class="p">:</span>
            <span class="k">while</span> <span class="n">root</span><span class="p">:</span>
                <span class="n">root</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">next</span>
                <span class="n">ls</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">root</span><span class="o">.</span><span class="n">val</span><span class="p">])</span>
            <span class="n">ls</span> <span class="o">+=</span> <span class="p">[[]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">k</span><span class="o">-</span><span class="n">num</span><span class="p">)]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">n</span> <span class="o">=</span> <span class="n">num</span><span class="o">%</span><span class="n">k</span>
            <span class="n">ls1</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">while</span> <span class="n">n</span><span class="p">:</span>
                <span class="n">ls1</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">root</span><span class="o">.</span><span class="n">val</span><span class="p">])</span>
                <span class="n">root</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">next</span>
                <span class="n">n</span> <span class="o">=</span> <span class="n">n</span><span class="o">-</span><span class="mi">1</span>
            <span class="n">ls2</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">while</span> 
            <span class="k">while</span> <span class="n">k</span><span class="p">:</span>
        
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>divmod?
</pre></div>
</div>
<div class="section" id="id28">
<h3><span class="section-number">1.11.1. </span>新列表<a class="headerlink" href="#id28" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>时间复杂度：$O(N + k)$。$N$ 指的是链表的结点数，若 kk 很大，则还需要添加许多空列表。</p></li>
<li><p>空间复杂度：$O(max(N, k))$，存放答案所需的空间。</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">splitListToParts</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">root</span><span class="p">,</span><span class="n">k</span><span class="p">):</span>
        <span class="n">cur</span> <span class="o">=</span> <span class="n">root</span>
        <span class="n">num</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">while</span> <span class="n">cur</span><span class="p">:</span>
            <span class="n">num</span> <span class="o">+=</span><span class="mi">1</span>
            <span class="n">cur</span> <span class="o">=</span> <span class="n">cur</span><span class="o">.</span><span class="n">next</span>
        <span class="n">width</span><span class="p">,</span><span class="n">remainder</span> <span class="o">=</span> <span class="nb">divmod</span><span class="p">(</span><span class="n">num</span><span class="p">,</span><span class="n">k</span><span class="p">)</span>
        
        <span class="n">ans</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">cur</span> <span class="o">=</span> <span class="n">root</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">k</span><span class="p">):</span>
            <span class="n">head</span> <span class="o">=</span> <span class="n">write</span> <span class="o">=</span> <span class="n">ListNode</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">width</span> <span class="o">+</span> <span class="p">(</span><span class="n">i</span><span class="o">&lt;</span><span class="n">remainder</span><span class="p">)):</span>
                <span class="n">write</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">write</span> <span class="o">=</span> <span class="n">ListNode</span><span class="p">(</span><span class="n">cur</span><span class="o">.</span><span class="n">val</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">cur</span><span class="p">:</span> <span class="n">cur</span> <span class="o">=</span> <span class="n">cur</span><span class="o">.</span><span class="n">next</span>
            <span class="n">ans</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">head</span><span class="o">.</span><span class="n">next</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ans</span>
            
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">splitListToParts</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">:</span> <span class="n">ListNode</span><span class="p">,</span> <span class="n">k</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">ListNode</span><span class="p">]:</span>
        <span class="n">ans</span><span class="p">,</span> <span class="n">nodes</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[]</span>
        <span class="k">while</span> <span class="n">root</span><span class="p">:</span>
            <span class="n">nodes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
            <span class="n">root</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">next</span>
        <span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">q</span><span class="p">),</span> <span class="n">j</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="nb">divmod</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">nodes</span><span class="p">),</span> <span class="n">k</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">nodes</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">k</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">:</span>
                <span class="n">ans</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">nodes</span><span class="p">[</span><span class="n">j</span><span class="p">])</span>
                <span class="n">j</span> <span class="o">+=</span> <span class="n">p</span> <span class="o">+</span> <span class="p">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="n">q</span><span class="p">)</span>
                <span class="n">nodes</span><span class="p">[</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">ans</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ans</span>
</pre></div>
</div>
</div>
<div class="section" id="id29">
<h3><span class="section-number">1.11.2. </span>拆分链表<a class="headerlink" href="#id29" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>时间复杂度：$O(N+k)$。$N$ 指的是所给链表的结点数，若 $k$很大，则还需要添加许多空列表。</p></li>
<li><p>空间复杂度：$O(k)$，存储答案时所需的额外空格</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Solution</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">splitListToParts</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">,</span> <span class="n">k</span><span class="p">):</span>
        <span class="n">cur</span> <span class="o">=</span> <span class="n">root</span>
        <span class="k">for</span> <span class="n">N</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1001</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">cur</span><span class="p">:</span> <span class="k">break</span>
            <span class="n">cur</span> <span class="o">=</span> <span class="n">cur</span><span class="o">.</span><span class="n">next</span>
        <span class="n">width</span><span class="p">,</span> <span class="n">remainder</span> <span class="o">=</span> <span class="nb">divmod</span><span class="p">(</span><span class="n">N</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span>

        <span class="n">ans</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">cur</span> <span class="o">=</span> <span class="n">root</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">k</span><span class="p">):</span>
            <span class="n">head</span> <span class="o">=</span> <span class="n">cur</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">width</span> <span class="o">+</span> <span class="p">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="n">remainder</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">cur</span><span class="p">:</span> <span class="n">cur</span> <span class="o">=</span> <span class="n">cur</span><span class="o">.</span><span class="n">next</span>
            <span class="k">if</span> <span class="n">cur</span><span class="p">:</span>
                <span class="n">cur</span><span class="o">.</span><span class="n">next</span><span class="p">,</span> <span class="n">cur</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">cur</span><span class="o">.</span><span class="n">next</span>
            <span class="n">ans</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">head</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ans</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="q328-odd-even-linked-list-medium">
<h2><span class="section-number">1.12. </span>Q328 Odd Even Linked List (Medium)<a class="headerlink" href="#q328-odd-even-linked-list-medium" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">ListNode</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">val</span> <span class="o">=</span> <span class="n">x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="kc">None</span>
<span class="n">a1</span> <span class="o">=</span> <span class="n">ListNode</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">a2</span> <span class="o">=</span> <span class="n">ListNode</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">a3</span> <span class="o">=</span> <span class="n">ListNode</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="n">a4</span> <span class="o">=</span> <span class="n">ListNode</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="n">a5</span> <span class="o">=</span> <span class="n">ListNode</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="n">a1</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">a2</span>
<span class="n">a2</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">a3</span>
<span class="n">a3</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">a4</span>
<span class="n">a4</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">a5</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">oddEvenList</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">head</span><span class="p">:</span> <span class="n">ListNode</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">head</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">head</span>
        <span class="n">cur</span> <span class="o">=</span> <span class="n">head</span>
        <span class="n">num</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">while</span> <span class="n">cur</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">cur</span> <span class="o">=</span> <span class="n">cur</span><span class="o">.</span><span class="n">next</span>
            <span class="n">num</span> <span class="o">+=</span><span class="mi">1</span>
        <span class="n">pre</span> <span class="o">=</span> <span class="n">head</span>
        <span class="n">nex</span> <span class="o">=</span> <span class="n">head</span><span class="o">.</span><span class="n">next</span>
        <span class="n">eve</span> <span class="o">=</span> <span class="n">head</span><span class="o">.</span><span class="n">next</span>
        <span class="k">if</span> <span class="n">num</span><span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">while</span> <span class="n">nex</span><span class="o">.</span><span class="n">next</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">pre</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">next</span><span class="o">.</span><span class="n">next</span>
                <span class="n">nex</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">nex</span><span class="o">.</span><span class="n">next</span><span class="o">.</span><span class="n">next</span>
                <span class="n">pre</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">next</span>
                <span class="n">nex</span> <span class="o">=</span> <span class="n">nex</span><span class="o">.</span><span class="n">next</span>
            <span class="n">pre</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">eve</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">while</span> <span class="n">pre</span><span class="o">.</span><span class="n">next</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">pre</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">next</span><span class="o">.</span><span class="n">next</span>
                <span class="n">nex</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">nex</span><span class="o">.</span><span class="n">next</span><span class="o">.</span><span class="n">next</span>
                <span class="n">pre</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">next</span>
                <span class="n">nex</span> <span class="o">=</span> <span class="n">nex</span><span class="o">.</span><span class="n">next</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">pre</span><span class="o">.</span><span class="n">val</span><span class="p">)</span>
            <span class="n">pre</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">eve</span>
        <span class="k">return</span> <span class="n">head</span>
</pre></div>
</div>
<div class="section" id="id30">
<h3><span class="section-number">1.12.1. </span>简写<a class="headerlink" href="#id30" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">oddEvenList</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">head</span><span class="p">:</span> <span class="n">ListNode</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">head</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span> <span class="k">return</span> <span class="n">head</span>
        <span class="n">odd</span><span class="p">,</span><span class="n">even</span><span class="p">,</span><span class="n">evenHead</span> <span class="o">=</span> <span class="n">head</span><span class="p">,</span><span class="n">head</span><span class="o">.</span><span class="n">next</span><span class="p">,</span><span class="n">head</span><span class="o">.</span><span class="n">next</span>
        <span class="k">while</span> <span class="n">even</span> <span class="ow">and</span> <span class="n">even</span><span class="o">.</span><span class="n">next</span><span class="p">:</span>
            <span class="n">odd</span><span class="o">.</span><span class="n">next</span><span class="p">,</span><span class="n">even</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">even</span><span class="o">.</span><span class="n">next</span><span class="p">,</span><span class="n">even</span><span class="o">.</span><span class="n">next</span><span class="o">.</span><span class="n">next</span>
            <span class="n">odd</span><span class="p">,</span><span class="n">even</span> <span class="o">=</span> <span class="n">odd</span><span class="o">.</span><span class="n">next</span><span class="p">,</span><span class="n">even</span><span class="o">.</span><span class="n">next</span>
        <span class="n">odd</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">evenHead</span>
        <span class="k">return</span> <span class="n">head</span>
</pre></div>
</div>
<div class="section" id="tips-and">
<h4><span class="section-number">1.12.1.1. </span>Tips: and 和 &amp;<a class="headerlink" href="#tips-and" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>位运算  1的二进制01，2的二进制10 1&amp;2 = 0</p>
<ul>
<li><p>位或 |     10 + 01 = 11 =3</p></li>
<li><p>位与 &amp;    10 + 01 = 00 = 0</p></li>
</ul>
</li>
<li><p>逻辑运算 and or not</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="mi">3</span><span class="o">&amp;</span><span class="mi">3</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">3</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="mi">1</span><span class="o">|</span><span class="mi">2</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">3</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Tree.html" class="btn btn-neutral float-right" title="2. 树" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../python.html" class="btn btn-neutral float-left" title="Python" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, AdamZhou

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>