

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>&lt;no title&gt; &mdash; EveryThing 2.0.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="EveryThing 2.0.0 documentation" href="../../index.html"/>
        <link rel="up" title="R" href="../R.html"/>
        <link rel="next" title="&lt;no title&gt;" href="Day_3_ZZZ.html"/>
        <link rel="prev" title="&lt;no title&gt;" href="Day_1_ZZZ.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> EveryThing
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption" role="heading"><span class="caption-text">SNA</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../0_SNA/10_sphinx_rst.html">Sphinx</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../0_SNA/30_gee.html">GEE</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../0_SNA/50_plots.html">Scientific Plots</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../0_SNA/51_pandas.html">Pandas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../0_SNA/52_matplotlib.html">Matplotlib</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../0_SNA/53_R.html">R</a></li>
<li class="toctree-l1"><a class="reference internal" href="../R.html">R</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../0_SNA/31_Arcgis%26Frag.html">Arcgis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python.html">Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../0_SNA/54_Javascript.html">Javascript</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Discussion</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../2_DIS/11_debate.html">辩行记</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../2_DIS/12_toc.html">TOC</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">EveryThing</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../R.html">R</a> &raquo;</li>
        
      <li>&lt;no title&gt;</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/Snippet/R/Day_2_ZZZ.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <p>## Graphs</p>
<p>### Working with Graphs</p>
<p><a href="#id1"><span class="problematic" id="id2">``</span></a><a href="#id3"><span class="problematic" id="id4">`</span></a>R
pdf(“mygraph.pdf”)# set a destination
attach(mtcars)
plot(wt, mpg)
abline(lm(mpg~wt))
title(“Regression of MPG on Weight”)
detach(mtcars)
dev.off()# close</p>
<p># dev
dev.new()
dev.next()
dev.prev()
dev.set()
dev.off()
<a href="#id5"><span class="problematic" id="id6">``</span></a><a href="#id7"><span class="problematic" id="id8">`</span></a></p>
<p>### Plot a graph</p>
<p><a href="#id9"><span class="problematic" id="id10">``</span></a><a href="#id11"><span class="problematic" id="id12">`</span></a>R
dose  &lt;- c(20, 30, 40, 45, 60)
drugA &lt;- c(16, 20, 27, 40, 60)
drugB &lt;- c(15, 18, 25, 31, 40)
plot(dose, drugA, type=”b”)# both points and lines</p>
<p># Custom：
# One way
opar &lt;- par(no.readonly=TRUE) # get default options
par(lty=2, pch=17)# change options
plot(dose, drugA, type=”b”)
par(opar) # recover options</p>
<p># other way
plot(dose, drugA, type=”b”, lty=2, pch=17)</p>
<p><a href="#id13"><span class="problematic" id="id14">``</span></a><a href="#id15"><span class="problematic" id="id16">`</span></a></p>
<p>### Symbols  and lines</p>
<p><code class="docutils literal notranslate"><span class="pre">`R</span>
<span class="pre">pch#</span> <span class="pre">point</span> <span class="pre">style</span> <span class="pre">0-25</span>
<span class="pre">cex#</span> <span class="pre">point</span> <span class="pre">size</span>
<span class="pre">lty#</span> <span class="pre">line</span> <span class="pre">style</span>&#160; <span class="pre">1-6</span>
<span class="pre">lwd#</span> <span class="pre">line</span> <span class="pre">width</span>
<span class="pre">col#</span> <span class="pre">border</span> <span class="pre">color</span>
<span class="pre">bg#</span> <span class="pre">fill</span> <span class="pre">color</span>
<span class="pre">`</span></code></p>
<p>### Colors</p>
<p><code class="docutils literal notranslate"><span class="pre">`R</span>
<span class="pre">col</span> <span class="pre">#</span> <span class="pre">default</span> <span class="pre">color</span>
<span class="pre">col.axis</span> <span class="pre">#</span> <span class="pre">axis</span> <span class="pre">text</span>
<span class="pre">col.lab</span> <span class="pre">#</span> <span class="pre">axis</span> <span class="pre">label</span>
<span class="pre">col.main</span> <span class="pre">#</span> <span class="pre">titles</span>
<span class="pre">col.sub</span> <span class="pre">#</span> <span class="pre">subtitles</span>
<span class="pre">fg</span> <span class="pre">#</span> <span class="pre">foreground</span>
<span class="pre">bg</span> <span class="pre">#</span> <span class="pre">background</span>
<span class="pre">colors()#</span> <span class="pre">return</span> <span class="pre">all</span> <span class="pre">color</span>
<span class="pre">#</span> <span class="pre">define</span> <span class="pre">color</span>
<span class="pre">col=1</span>
<span class="pre">col=&quot;white&quot;</span>
<span class="pre">col=&quot;#FFFFFF&quot;</span>
<span class="pre">col=rgb(1,1,1)</span>
<span class="pre">col=hsv(0,0,1)</span>
<span class="pre">#generate</span> <span class="pre">color</span>
<span class="pre">rainbow()</span>
<span class="pre">heat.colors()</span>
<span class="pre">terrain.colors()</span>
<span class="pre">topo.colors()</span>
<span class="pre">cm.colors()</span>
<span class="pre">`</span></code></p>
<ul class="simple">
<li><p>RColorBrewer: package for creating attractive color palettes</p></li>
</ul>
<p><a href="#id17"><span class="problematic" id="id18">``</span></a><a href="#id19"><span class="problematic" id="id20">`</span></a>R
library(RColorBrewer)
n &lt;- 7
mycolors &lt;- brewer.pal(n, “Set1”)
barplot(rep(1,n), col=mycolors)</p>
<p>brewer.pal.info
display.brewer.all()</p>
<p>n &lt;- 10
mycolors &lt;- rainbow(n)
pie(rep(1, n), labels=mycolors, col=mycolors)
mygrays &lt;- gray(0:n/n)
pie(rep(1, n), labels=mygrays, col=mygrays)
<a href="#id21"><span class="problematic" id="id22">``</span></a><a href="#id23"><span class="problematic" id="id24">`</span></a></p>
<p>### Text characteristics</p>
<p><a href="#id25"><span class="problematic" id="id26">``</span></a><a href="#id27"><span class="problematic" id="id28">`</span></a>R
cex # scaled size
cex.axis # scaled axis text
cex.lab # scaled axis labels
cex.main # titles
cex.sub # subtitles
#
font # style integer
ps # ps*cex =size inch
family # drawing text font family
# “serif” “sans” “mono”</p>
<dl class="simple">
<dt>windowsFonts(</dt><dd><p>A=windowsFont(“Arial Black”),
B=windowsFont(“Bookman Old Style”),
C=windowsFont(“Comic Sans MS”)</p>
</dd>
</dl>
<p>)
par(family = “A”)</p>
<p># PDF
names(pdfFonts())#get all fonts
pdf(file = “myplot.pdf”, family=”fontname”)</p>
<p>#PS
names(postscriptFonts())
postscript(file=”myplot.ps”, family=”fontname”)
<a href="#id29"><span class="problematic" id="id30">``</span></a><a href="#id31"><span class="problematic" id="id32">`</span></a></p>
<p>### Graph and margin diemensions</p>
<p><a href="#id33"><span class="problematic" id="id34">``</span></a><a href="#id35"><span class="problematic" id="id36">`</span></a>R
pin # plot dimensions in inches
mai # numerical vector c(bottom, left, top, right) in inches
mar # in lines
par(pin=c(4,3), mai=c(1,.5, 1, .2))</p>
<p>opar &lt;- par(no.readonly=TRUE)
par(pin=c(2, 3))
par(lwd=2, cex=1.5)
par(cex.axis=.75, font.axis=3)
plot(dose, drugA, type=”b”, pch=19, lty=2, col=”red”)
plot(dose, drugB, type=”b”, pch=23, lty=6, col=”blue”, bg=”green”)
par(opar)
<a href="#id37"><span class="problematic" id="id38">``</span></a><a href="#id39"><span class="problematic" id="id40">`</span></a></p>
<p>### Text, customized axes, legends, titles</p>
<p><a href="#id41"><span class="problematic" id="id42">``</span></a><a href="#id43"><span class="problematic" id="id44">`</span></a>R
plot(dose, drugA, type=”b”,</p>
<blockquote>
<div><p>col=”red”, lty=2, pch=2, lwd=2,
main=”Clinical Trials for Drug A”,
sub=”This is hypothetical data”,
xlab=”Dosage”, ylab=”Drug Response”,
xlim=c(0, 60), ylim=c(0, 70))</p>
</div></blockquote>
<dl class="simple">
<dt>title(main=”main title”, sub=”subtitle”,</dt><dd><p>xlab=”x-axis label”, ylab=”y-axis label”)</p>
</dd>
<dt>title(main=”My Title”, col.main=”red”,</dt><dd><p>sub=”My Subtitle”, col.sub=”blue”,
xlab=”My X label”, ylab=”My Y label”,
col.lab=”green”, cex.lab=0.75)</p>
</dd>
</dl>
<p># axes
axis(side, at=, labels=, pos=, lty=, col=, las=, tck=)
axes = FALSE # suppresses all axes
frame.plot=TRUE #
xaxt = “n” # suppress x axis
yaxt = “n”
mtext() # add text to the margin</p>
<p># Minor tick marks
library(Hmisc)
minor.tick(nx=n, ny=n, tick.ratio=n)
minor.tick(nx=2, ny=3, tick.ratio=0.5)</p>
<p># Reference Lines
abline(h=yvalues, v=xvalues)
abline(v=seq(1, 10, 2), lty=2, col=”blue”)</p>
<p># legend
legend(location, title, legend, …)</p>
<p># text annotations
text(location, “text to place”, pos, …)
mtext(“text to place”, side, line=n, …)
pos # 1 bottom 2 left 3 up 4 right
offset
side # side to put text</p>
<p># math annotations
plotmath()
<a href="#id45"><span class="problematic" id="id46">``</span></a><a href="#id47"><span class="problematic" id="id48">`</span></a></p>
<p><a href="#id49"><span class="problematic" id="id50">``</span></a><a href="#id51"><span class="problematic" id="id52">`</span></a>R
x &lt;- c(1:10)
y &lt;- x
z &lt;- 10/x
opar &lt;- par(no.readonly=TRUE)
par(mar=c(5, 4, 4, 8) + 0.1)
plot(x, y, type=”b”,</p>
<blockquote>
<div><p>pch=21, col=”red”,
yaxt=”n”, lty=3, ann=FALSE)</p>
</div></blockquote>
<p>lines(x, z, type=”b”, pch=22, col=”blue”, lty=2)
axis(2, at=x, labels=x, col.axis=”red”, las=2)
axis(4, at=z, labels=round(z, digits=2),</p>
<blockquote>
<div><p>col.axis=”blue”, las=2, cex.axis=0.7,      tck=-.01)</p>
</div></blockquote>
<p>mtext(“y=1/x”, side=4, line=3, cex.lab=1, las=2, col=”blue”)
title(“An Example of Creative Axes”,</p>
<blockquote>
<div><p>xlab=”X values”,
ylab=”Y=X”)</p>
</div></blockquote>
<p>par(opar)
<a href="#id53"><span class="problematic" id="id54">``</span></a><a href="#id55"><span class="problematic" id="id56">`</span></a></p>
<p>### Combining graphs</p>
<p><a href="#id57"><span class="problematic" id="id58">``</span></a><a href="#id59"><span class="problematic" id="id60">`</span></a>R
par(mfrow = c(nrows,ncols))# fill by rows
hist(ann=FALSE) # suppress all titles and labels</p>
<p>layout(mat)# matrix specifying the location</p>
<p>attach(mtcars)
layout(matrix(c(1,1,2,3), 2, 2, byrow = TRUE),# vector nrow ncol</p>
<blockquote>
<div><p>widths=c(3, 1), heights=c(1, 2))</p>
</div></blockquote>
<p>hist(wt)
hist(mpg)
hist(disp)
detach(mtcars)
<a href="#id61"><span class="problematic" id="id62">``</span></a><a href="#id63"><span class="problematic" id="id64">`</span></a></p>
<p><a href="#id65"><span class="problematic" id="id66">``</span></a><a href="#id67"><span class="problematic" id="id68">`</span></a>R
#Fine control
fig =c(x1,x2,y1,y2)</p>
<p># example
opar &lt;- par(no.readonly=TRUE)
par(fig=c(0, 0.8, 0, 0.8))   # 0-0.8 0-0.8
plot(mtcars$wt, mtcars$mpg,</p>
<blockquote>
<div><p>xlab=”Miles Per Gallon”,
ylab=”Car Weight”)</p>
</div></blockquote>
<p>par(fig=c(0, 0.8, 0.55, 1), new=TRUE)        # 0-0.8 0.55-1
boxplot(mtcars$wt, horizontal=TRUE, axes=FALSE)</p>
<p>par(fig=c(0.65, 1, 0, 0.8), new=TRUE)
boxplot(mtcars$mpg, axes=FALSE)</p>
<p>mtext(“Enhanced Scatterplot”, side=3, outer=TRUE, line=-3)
par(opar)
<a href="#id69"><span class="problematic" id="id70">``</span></a><a href="#id71"><span class="problematic" id="id72">`</span></a></p>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Day_3_ZZZ.html" class="btn btn-neutral float-right" title="&lt;no title&gt;" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="Day_1_ZZZ.html" class="btn btn-neutral" title="&lt;no title&gt;" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, AdamZhou.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> and ❤️  using a custom <a href="https://github.com/LinxiFan/Stanford-theme">theme</a> based on <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'2.0.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>